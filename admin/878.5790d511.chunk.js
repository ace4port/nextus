"use strict";(self.webpackChunkyuewu_dev=self.webpackChunkyuewu_dev||[]).push([[878],{60878:(re,T,t)=>{t.r(T),t.d(T,{default:()=>Me});var e=t(53547),x=t(16550),m=t(22551),K=t(274),E=t.n(K),r=t(41580),f=t(22072),a=t(76835);const z=async()=>{try{return await(0,m.request)(`/${E()}/component`,{method:"GET"})}catch{return null}},U=async()=>{try{return await(0,m.request)(`/${E()}/content-types`,{method:"GET"})}catch{return null}},W=async()=>{try{return(await(0,m.request)(`/${E()}/component`,{method:"POST"},!0)).json()}catch{return null}};var C=t(11047),p=t(32064),o=t(75515),b=t(89722),v=t(38939),y=t(8060),S=t(79031),h=t(37909),D=t(15234),O=t(96315),I=t(94228),u=t(7681),g=t(3566),j=t(29728),ce=t(19306),ie=t(42866),de=t(24969),ue=t(59946),ge=t(36856),me=t(58283),G=t(45349);const Q=t(25309).Z,V=({item:l})=>{const[s,c]=(0,e.useState)(!0),[A,R]=(0,e.useState)(!0),[Z,B]=(0,e.useState)(!0),[M,P]=(0,e.useState)(!0),[w,L]=(0,e.useState)(!0),[J,X]=(0,e.useState)(!0),[q,_]=(0,e.useState)(!0),[ee,te]=(0,e.useState)(!0),[ae,ne]=(0,e.useState)(!0),[le,oe]=(0,e.useState)(!0),[F,se]=(0,e.useState)(null),[Ce,k]=(0,e.useState)(!1),{formatMessage:i}=(0,f.Z)();(0,e.useEffect)(()=>{(async()=>{const d=await Q.get();se(d)})()},[]);const Pe=n=>{const d=F[l?.uid];c(d?.seoChecks?.metaTitle),R(d?.seoChecks?.metaDescription),B(d?.seoChecks?.metaRobots),P(d?.seoChecks?.metaSocial),L(d?.seoChecks?.wordCount),X(d?.seoChecks?.canonicalUrl),_(d?.seoChecks?.keywordDensity),te(d?.seoChecks?.structuredData),ne(d?.seoChecks?.alternativeText),oe(d?.seoChecks?.lastUpdatedAt),k(N=>!N)},Te=n=>{const d={...F,[l?.uid]:{collectionName:F[l?.uid]?.collectionName,seoChecks:{metaTitle:s,metaDescription:A,metaRobots:Z,metaSocial:M,wordCount:w,canonicalUrl:J,keywordDensity:q,structuredData:ee,alternativeText:ae,lastUpdatedAt:le}}};Q.set(d).then(async()=>{se(d),k(N=>!N)})};return e.createElement(e.Fragment,null,e.createElement(j.z,{variant:"tertiary",startIcon:e.createElement(me.Z,null),onClick:n=>Pe(n)},i({id:(0,a.O)("SEOPage.info.config"),defaultMessage:"Settings"})),Ce&&e.createElement(ie.P,{onClose:()=>k(n=>!n),labelledBy:"title"},e.createElement(de.x,null,e.createElement(o.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},i({id:(0,a.O)("SEOPage.info.settings"),defaultMessage:"Settings"}))),e.createElement(ue.f,null,e.createElement(r.x,{paddingBottom:8,paddingTop:4},e.createElement(m.ContentBox,{title:i({id:"Information",defaultMessage:"Information"}),subtitle:i({id:(0,a.O)("HomePage.info.settings.information"),defaultMessage:"Disable SEO checks for this specific content-type."}),icon:e.createElement(G.Z,null),iconBackground:"primary100"})),e.createElement(ce.M,null,e.createElement(r.x,{padding:4,hasRadius:!0,background:"neutral0"},e.createElement(u.K,{horizontal:!0,spacing:4,padding:3},e.createElement(g.r,{label:"Switch",selected:s,onChange:()=>c(n=>!n)}),e.createElement(o.Z,{variant:"delta"},i({id:(0,a.O)("SEOPage.info.settings.meta-title-check"),defaultMessage:"Meta Title"})))),e.createElement(r.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(u.K,{horizontal:!0,spacing:4,padding:3},e.createElement(g.r,{label:"Switch",selected:A,onChange:()=>R(n=>!n)}),e.createElement(o.Z,{variant:"delta"},i({id:(0,a.O)("SEOPage.info.settings.meta-description-check"),defaultMessage:"Meta Description"})))),e.createElement(r.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(u.K,{horizontal:!0,spacing:4,padding:3},e.createElement(g.r,{label:"Switch",selected:Z,onChange:()=>B(n=>!n)}),e.createElement(o.Z,{variant:"delta"},i({id:(0,a.O)("SEOPage.info.settings.meta-robots-check"),defaultMessage:"Meta Robots"})))),e.createElement(r.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(u.K,{horizontal:!0,spacing:4,padding:3},e.createElement(g.r,{label:"Switch",selected:M,onChange:()=>P(n=>!n)}),e.createElement(o.Z,{variant:"delta"},i({id:(0,a.O)("SEOPage.info.settings.meta-social-check"),defaultMessage:"Meta Social"})))),e.createElement(r.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(u.K,{horizontal:!0,spacing:4,padding:3},e.createElement(g.r,{label:"Switch",selected:w,onChange:()=>L(n=>!n)}),e.createElement(o.Z,{variant:"delta"},i({id:(0,a.O)("SEOPage.info.settings.word-count-check"),defaultMessage:"Word Count"})))),e.createElement(r.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(u.K,{horizontal:!0,spacing:4,padding:3},e.createElement(g.r,{label:"Switch",selected:J,onChange:()=>X(n=>!n)}),e.createElement(o.Z,{variant:"delta"},i({id:(0,a.O)("SEOPage.info.settings.canonical-url-check"),defaultMessage:"Canonical URL"})))),e.createElement(r.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(u.K,{horizontal:!0,spacing:4,padding:3},e.createElement(g.r,{label:"Switch",selected:q,onChange:()=>_(n=>!n)}),e.createElement(o.Z,{variant:"delta"},i({id:(0,a.O)("SEOPage.info.settings.keyword-density-check"),defaultMessage:"Keyword Density"})))),e.createElement(r.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(u.K,{horizontal:!0,spacing:4,padding:3},e.createElement(g.r,{label:"Switch",selected:ee,onChange:()=>te(n=>!n)}),e.createElement(o.Z,{variant:"delta"},i({id:(0,a.O)("SEOPage.info.settings.structured-data-check"),defaultMessage:"Structured Data"})))),e.createElement(r.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(u.K,{horizontal:!0,spacing:4,padding:3},e.createElement(g.r,{label:"Switch",selected:ae,onChange:()=>ne(n=>!n)}),e.createElement(o.Z,{variant:"delta"},i({id:(0,a.O)("SEOPage.info.settings.alternative-text-check"),defaultMessage:"Alt Text"})))),e.createElement(r.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(u.K,{horizontal:!0,spacing:4,padding:3},e.createElement(g.r,{label:"Switch",selected:le,onChange:()=>oe(n=>!n)}),e.createElement(o.Z,{variant:"delta"},i({id:(0,a.O)("SEOPage.info.settings.last-updated-at-check"),defaultMessage:"Last Updated At"})))))),e.createElement(ge.m,{startActions:e.createElement(j.z,{onClick:()=>k(n=>!n),variant:"tertiary"},i({id:(0,a.O)("SEOPage.info.settings.cancel.button"),defaultMessage:"Cancel"})),endActions:e.createElement(e.Fragment,null,e.createElement(j.z,{onClick:n=>Te(n)},i({id:(0,a.O)("SEOPage.info.settings.save.button"),defaultMessage:"Save"})))})))};var Ee=t(82777),H=t(77296),$=t(42761),he=t(96486),Y=t.n(he);const fe=({contentTypes:l})=>{const{formatMessage:s}=(0,f.Z)();return e.createElement(e.Fragment,null,e.createElement(r.x,{padding:8},e.createElement(Ee.v,{label:"label",id:"tabs",variant:"simple"},e.createElement(H.m,null,e.createElement(H.O,null,e.createElement(o.Z,null,s({id:(0,a.O)("SEOPage.tab.collection-type-title"),defaultMessage:"Collection Types"}))),e.createElement(H.O,null,e.createElement(o.Z,{variant:"omega"},s({id:(0,a.O)("SEOPage.tab.single-type-title"),defaultMessage:"Single Types"})))),e.createElement($.n,null,e.createElement($.x,null,e.createElement(v.i,{colCount:2,rowCount:l.collectionTypes.length},e.createElement(y.h,null,e.createElement(S.Tr,null,e.createElement(h.Th,null,e.createElement(o.Z,{variant:"sigma"},s({id:(0,a.O)("SEOPage.tab-panel.column-name"),defaultMessage:"Name"}))))),e.createElement(D.p,null,l&&l.collectionTypes&&!Y().isEmpty(l.collectionTypes)?l.collectionTypes.map(c=>e.createElement(S.Tr,{key:c.uid},e.createElement(h.Td,null,e.createElement(o.Z,{textColor:"neutral800"},c.globalId)),e.createElement(h.Td,null,e.createElement(C.k,{justifyContent:"right",alignItems:"right"},c.seo?e.createElement(V,{item:c}):e.createElement(p.Q,{startIcon:e.createElement(O.Z,null),variant:"secondary",to:`/plugins/content-type-builder/content-types/${c.uid}`},s({id:(0,a.O)("SEOPage.info.add"),defaultMessage:"Add component"})))))):e.createElement(r.x,{padding:8,background:"neutral0"},e.createElement(b.x,{icon:e.createElement(I.w,null),content:s({id:(0,a.O)("SEOPage.info.no-collection-types"),defaultMessage:"You don't have any collection-types yet..."}),action:e.createElement(p.Q,{to:"/plugins/content-type-builder",variant:"secondary",startIcon:e.createElement(O.Z,null)},s({id:(0,a.O)("SEOPage.info.create-collection-type"),defaultMessage:"Create your first collection-type"}))}))))),e.createElement($.x,null,e.createElement(v.i,{colCount:2,rowCount:l.singleTypes.length},e.createElement(y.h,null,e.createElement(S.Tr,null,e.createElement(h.Th,null,e.createElement(o.Z,{variant:"sigma"},s({id:(0,a.O)("SEOPage.tab-panel.column-name"),defaultMessage:"Name"}))))),e.createElement(D.p,null,l&&l.singleTypes&&!Y().isEmpty(l.singleTypes)?l.singleTypes.map(c=>e.createElement(S.Tr,{key:c.uid},e.createElement(h.Td,null,e.createElement(o.Z,{textColor:"neutral800"},c.globalId)),e.createElement(h.Td,null,e.createElement(C.k,{justifyContent:"right",alignItems:"right"},c.seo?e.createElement(V,{item:c}):e.createElement(p.Q,{startIcon:e.createElement(O.Z,null),variant:"secondary",to:`/plugins/content-type-builder/content-types/${c.uid}`},s({id:(0,a.O)("SEOPage.info.add"),defaultMessage:"Add component"})))))):e.createElement(r.x,{padding:8,background:"neutral0"},e.createElement(b.x,{icon:e.createElement(I.w,null),content:s({id:(0,a.O)("SEOPage.info.no-single-types"),defaultMessage:"You don't have any single-types yet..."}),action:e.createElement(p.Q,{to:"/plugins/content-type-builder",variant:"secondary",startIcon:e.createElement(O.Z,null)},s({id:(0,a.O)("SEOPage.info.create-single-type"),defaultMessage:"Create your first single-type"}))})))))))))};var pe=t(53979);const Se=l=>{const{formatMessage:s}=(0,f.Z)();return e.createElement(r.x,{background:"neutral100"},e.createElement(pe.A,{secondaryAction:l?null:e.createElement(LinkButton,{variant:"tertiary",to:"/plugins/content-type-builder/component-categories/shared/shared.seo",startIcon:e.createElement(Pencil,null)},s({id:(0,a.O)("SEOPage.header.button.edit-component"),defaultMessage:"Edit SEO component"})),title:s({id:(0,a.O)("SEOPage.header.title"),defaultMessage:"SEO"}),subtitle:s({id:(0,a.O)("SEOPage.header.subtitle"),defaultMessage:"Optimize your content to be SEO friendly"}),as:"h2"}))},ve=()=>{const{formatMessage:l}=(0,f.Z)(),{lockAppWithAutoreload:s,unlockAppWithAutoreload:c}=(0,m.useAutoReloadOverlayBlocker)(),[A,R]=(0,e.useState)(!0),[Z,B]=(0,e.useState)(!1),M=(0,e.useRef)({}),P=(0,e.useRef)({});return(0,e.useEffect)(()=>{(async()=>{if(M.current=await z(),P.current=await U(),!M.current)try{s(),await W()}catch(L){console.log(L)}finally{c(),B(!0)}})().then(()=>{R(!1)})},[Z]),A?e.createElement(m.LoadingIndicatorPage,null):e.createElement(e.Fragment,null,e.createElement(Se,{seoComponent:M.current}),e.createElement(r.x,{paddingLeft:8,paddingRight:8},e.createElement(m.ContentBox,{title:l({id:"Information",defaultMessage:"Information"}),subtitle:l({id:(0,a.O)("HomePage.info.information"),defaultMessage:"When adding your SEO component, make sure to name it 'seo' and to include it in the root of your Content-Type."}),icon:e.createElement(G.Z,null),iconBackground:"primary100"})),e.createElement(fe,{contentTypes:P.current}))},ye=(0,e.memo)(ve);var Oe=t(53487);const Me=()=>e.createElement(m.CheckPagePermissions,{permissions:Oe.Z.main},e.createElement("div",null,e.createElement(x.rs,null,e.createElement(x.AW,{path:`/plugins/${E()}`,component:ye,exact:!0}))))},32064:(re,T,t)=>{t.d(T,{Q:()=>U});var e=t(85893),x=t(53547),m=t(73727),K=t(54863),E=t(92577),r=t(21817),f=t(11047),a=t(75515);const z=(0,K.default)(r.G)`
  &[aria-disabled='true'] {
    ${E.sg}
    &:active {
      ${E.sg}
    }
  }
  &:hover {
    ${E.yP}
  }
  &:active {
    ${E.tB}
  }
  ${E.PD}
`,U=x.forwardRef(({variant:W="default",startIcon:C,endIcon:p,disabled:o=!1,children:b,size:v="S",href:y,to:S,...h},D)=>{const O=y?"_blank":void 0,I=y?"noreferrer noopener":void 0,u=v==="S"?2:"10px",g=4;return(0,e.jsxs)(z,{ref:D,"aria-disabled":o,size:v,variant:W,target:O,rel:I,to:o?void 0:S,href:o?"#":y,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:u,paddingLeft:g,paddingRight:g,paddingTop:u,pointerEvents:o?"none":void 0,...h,as:S&&!o?m.NavLink:"a",children:[C&&(0,e.jsx)(f.k,{"aria-hidden":!0,children:C}),(0,e.jsx)(a.Z,{variant:v==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:b}),p&&(0,e.jsx)(f.k,{"aria-hidden":!0,children:p})]})})}}]);
