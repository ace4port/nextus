(self.webpackChunkyuewu_dev=self.webpackChunkyuewu_dev||[]).push([[8880],{68314:(V,K,t)=>{"use strict";t.d(K,{Z:()=>ze});var n=t(53547),x=t(54863),U=t(45697),h=t.n(U),g=t(41580),N=t(31666),F=t(14484),B=t(69102),Y=t(85038),a=t(34668),k=t(65531),E=t(73145),Ee=t(82574),J=t(74525),ce=t(60133),q=t(16247),re=t(48394),se=t(10507),ue=t(85047),he=t(21210),me=t(55884),ee=t(22551);const c={biginteger:N.Z,boolean:F.Z,collectionType:B.Z,component:Y.Z,contentType:B.Z,date:a.Z,datetime:a.Z,decimal:N.Z,dynamiczone:k.Z,email:E.Z,enum:Ee.Z,enumeration:Ee.Z,file:J.Z,files:J.Z,float:N.Z,integer:N.Z,json:ce.Z,JSON:ce.Z,media:J.Z,number:N.Z,password:q.Z,relation:re.Z,richtext:se.Z,singleType:ue.Z,string:he.Z,text:he.Z,time:a.Z,timestamp:a.Z,uid:me.Z},Me=(0,x.default)(g.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Ue=({type:qe,customField:Xe,...lt})=>{const Qe=(0,ee.useCustomFields)();let Ye=c[qe];if(Xe){const{icon:_}=Qe.get(Xe);_&&(Ye=_)}return c[qe]?n.createElement(Me,{height:(0,ee.pxToRem)(24),width:(0,ee.pxToRem)(32),shrink:0,...lt,"aria-hidden":!0},n.createElement(g.x,{as:Ye})):null};Ue.defaultProps={customField:null},Ue.propTypes={type:h().string.isRequired,customField:h().string};const ze=Ue},44915:(V,K,t)=>{"use strict";t.d(K,{c:()=>Ht});var n=t(45291),x=t(8289),U=t(71625),h=t(9022),g=t(67109),N=t(37323),F=t(83478),B=t(89072),Y=t(97490),a=t(67628),k=t(78976),E=t(16912),Ee=t(9705),J=t(66567),ce=t(84019),q=t(90323),re=t(66745),se=t(15004),ue=t(69721),he=t(56427),me=t(85018),ee=t(84517),c=t(45491),Me=t(82752),Ue=t(78114),ze=t(5240),qe=t(21667),Xe=t(86798),lt=t(32706),Qe=t(30783),Ye=t(7207),_=t(77339),Ve=t(67939),dt=t(19552),G=t(96295),Ge=t(81753),qt=t(70763),oe=t(29021),Qt=t(63252),ct=t(15662),We=t(23293),Bt=t(90690),Jt=t(19954),Ie=t(8934),wt=t(13320),ut=t(39810),en=t(26086),w=t(87955),fa=t(89597),Ut=t(32605),mt=t(31956),pt=t(28985),Je=t(18773),we=t(29729),Pe=t(69714),ya=t(75711),Wt=t(34807),gt=t(81426),tn=t(56157),Ea=t(76853),St=t(54244),Ft=t(69427),nn=t(56821),an=t(98432),sn=t(33911),on=t(33632),ft=t(63851),rn=t(49358),ln=t(78009),Ke=t(8204),dn=t(70412),cn=t(56858),ha=t(25870),un=t(90296),_t=t(5914),mn=t(9438),Ma=t(73962),pn=t(44157),Nt=t(132),gn=t(1182),yt=t(31795),Et=t(94726),fn=t(36347),ht=t(9474),yn=t(4585),Kt=t(20711),Mt=t(36606),vt=t(1781),En=t(33417),Tt=t(67504),hn=t(90321),va=t(96315),Mn=t(64529),bt=t(41916),vn=t(87801),et=t(95629),tt=t(43498),Ct=t(82497),Tn=t(78100),$t=t(77373),bn=t(7270),Rt=t(97184),Ot=t(49986),jt=t(96585),Cn=t(18319),Zt=t(45461),Rn=t(48077),Pt=t(23833),On=t(71157),zt=t(69353),Zn=t(82119),Pn=t(42164),Dn=t(78596),An=t(55680),xn=t(11008),Ln=t(28665),Vt=t(941),In=t(11462),Bn=t(57785),Un=t(71414),Gt=t(6702),Wn=t(72106),kt=t(61017),Dt=t(82101),Sn=t(65908),At=t(42384);const Ht={alien:n.Z,apps:x.Z,archive:U.Z,arrowDown:h.Z,arrowLeft:g.Z,arrowRight:N.Z,arrowUp:F.Z,attachment:B.Z,bell:Y.Z,bold:a.default,book:k.Z,briefcase:E.Z,brush:Ee.Z,bulletList:J.default,calendar:ce.Z,car:q.Z,cast:re.Z,chartBubble:se.Z,chartCircle:ue.Z,chartPie:he.Z,check:me.Z,clock:ee.Z,cloud:c.Z,code:Me.default,cog:Ue.Z,collapse:ze.default,command:qe.Z,connector:Xe.Z,crop:lt.Z,crown:Qe.Z,cube:Ye.Z,cup:_.Z,cursor:Ve.Z,dashboard:dt.Z,database:G.Z,discuss:Ge.Z,doctor:qt.Z,earth:oe.Z,emotionHappy:Qt.Z,emotionUnhappy:ct.Z,envelop:We.Z,exit:Bt.Z,expand:Jt.default,eye:Ie.Z,feather:wt.Z,file:ut.Z,fileError:en.Z,filePdf:w.Z,filter:fa.Z,folder:Ut.Z,gate:mt.Z,gift:pt.Z,globe:Je.Z,grid:we.Z,handHeart:Pe.Z,hashtag:ya.Z,headphone:Wt.Z,heart:gt.Z,house:tn.Z,information:Ea.Z,italic:St.default,key:Ft.Z,landscape:nn.Z,layer:an.Z,layout:sn.Z,lightbulb:on.Z,link:ft.default,lock:rn.Z,magic:ln.Z,manyToMany:Ke.Z,manyToOne:dn.Z,manyWays:cn.Z,medium:ha.Z,message:un.Z,microphone:_t.Z,monitor:mn.Z,moon:Ma.Z,music:pn.Z,oneToMany:Nt.Z,oneToOne:gn.Z,oneWay:yt.Z,paint:Et.Z,paintBrush:fn.Z,paperPlane:ht.Z,pencil:yn.Z,phone:Kt.Z,picture:Mt.default,pin:vt.Z,pinMap:En.Z,plane:Tt.Z,play:hn.Z,plus:va.Z,priceTag:Mn.Z,puzzle:bt.Z,question:vn.Z,quote:et.default,repeat:tt.Z,restaurant:Ct.Z,rocket:Tn.Z,rotate:$t.Z,scissors:bn.Z,search:Rt.Z,seed:Ot.Z,server:jt.Z,shield:Cn.Z,shirt:Zt.Z,shoppingCart:Rn.Z,slideshow:Pt.Z,stack:On.Z,star:zt.Z,store:Zn.Z,strikeThrough:Pn.default,sun:Dn.Z,television:An.Z,thumbDown:xn.Z,thumbUp:Ln.Z,train:Vt.Z,twitter:In.Z,typhoon:Bn.Z,underline:Un.default,user:Gt.Z,volumeMute:Wn.Z,volumeUp:kt.Z,walk:Dt.Z,wheelchair:Sn.Z,write:At.Z}},7955:(V,K,t)=>{"use strict";t.d(K,{Z:()=>U});var n=t(53547);const U=(0,n.createContext)()},98422:(V,K,t)=>{"use strict";t.d(K,{Z:()=>U});var n=t(53547);const U=(0,n.createContext)()},13588:(V,K,t)=>{"use strict";t.d(K,{Z:()=>h});var n=t(53547),x=t(7955);const h=()=>(0,n.useContext)(x.Z)},26478:(V,K,t)=>{"use strict";t.d(K,{Z:()=>h});var n=t(53547),x=t(98422);const h=()=>(0,n.useContext)(x.Z)},31524:(V,K,t)=>{"use strict";t.r(K),t.d(K,{default:()=>Fo});var n=t(53547),x=t(16550),U=t(64593),h=t(22072),g=t(22551),N=t(17034),F=t(57176),B=t(96124),Y=t(45697),a=t.n(Y),k=t(27361),E=t.n(k),Ee=t(7739),J=t.n(Ee),ce=t(36968),q=t.n(ce),re=t(84238),se=t.n(re),ue=t(86706),he=t(14890),me=t(7955),ee=t(26478),c=t(5002),Me=t(85169),Ue=t(18721),ze=t.n(Ue),qe=t(7334),Xe=t.n(qe),lt=t(42866),Qe=t(59946),Ye=t(82777),_=t(11047),Ve=t(77296),dt=t(70004),G=t(41580),Ge=t(42761),qt=t(36856),oe=t(29728),Qt=t(18446),ct=t.n(Qt),We=t(13588),Bt=t(38953),Jt=t(11700),Ie=t.n(Jt);const wt=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],ut=({intlLabel:e,name:s,onChange:o,value:r})=>{const{formatMessage:i}=(0,h.Z)(),d=r===null||r.length===0?i({id:"global.none",defaultMessage:"None"}):[...r].sort().map(u=>Ie()(u)).join(", "),l=e.id?i({id:e.id,defaultMessage:e.defaultMessage}):s;return n.createElement(Bt.Q,{id:"select1",label:l,customizeContent:()=>d,onChange:u=>{u.length>0?o({target:{name:s,value:u,type:"allowed-types-select"}}):o({target:{name:s,value:null,type:"allowed-types-select"}})},options:wt,value:r||[]})};ut.defaultProps={value:null},ut.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().oneOfType([a().object,a().array])};const en=ut;var w=t(75515);const Ut=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var mt=t(17373),pt=t(11276),Je=t(67819),we=t(68314),Pe=t(54863);const Wt=(0,Pe.default)(G.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,gt=({type:e})=>{const{formatMessage:s}=(0,h.Z)(),{onClickSelectField:o}=(0,ee.Z)(),r=()=>{o({attributeType:e,step:e==="component"?"1":null})};return n.createElement(Wt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:r},n.createElement(_.k,null,n.createElement(we.Z,{type:e}),n.createElement(G.x,{paddingLeft:4},n.createElement(_.k,null,n.createElement(w.Z,{fontWeight:"bold"},s({id:(0,c.Z)(`attribute.${e}`),defaultMessage:e}))),n.createElement(_.k,null,n.createElement(w.Z,{variant:"pi",textColor:"neutral600"},s({id:(0,c.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};gt.defaultProps={type:"text"},gt.propTypes={type:a().string};const tn=gt,St=e=>{const s=e%2===1;return{paddingLeft:s?2:0,paddingRight:s?0:2}},Ft=({attributes:e})=>n.createElement(mt.k,{tagName:"button"},n.createElement(_.k,{direction:"column",alignItems:"stretch",gap:8},e.map((s,o)=>n.createElement(pt.r,{key:o,gap:0},s.map((r,i)=>{const{paddingLeft:d,paddingRight:l}=St(i);return n.createElement(Je.P,{key:r,col:6,style:{height:"100%"}},n.createElement(G.x,{paddingLeft:d,paddingRight:l,paddingBottom:1,style:{height:"100%"}},n.createElement(tn,{type:r})))})))));Ft.propTypes={attributes:a().array.isRequired};const nn=Ft;var an=t(23620),sn=t(80129),on=t.n(sn),ft=t(52624),rn=t(32064),ln=t(86031),Ke=t(96315);const dn=(0,Pe.default)(G.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,cn=()=>n.createElement(_.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,s)=>n.createElement(dn,{key:`empty-card-${s}`,height:"138px",width:"375px",hasRadius:!0}))),un=()=>{const{formatMessage:e}=(0,h.Z)();return n.createElement(G.x,{position:"relative"},n.createElement(cn,null),n.createElement(G.x,{position:"absolute",top:6,width:"100%"},n.createElement(_.k,{alignItems:"center",justifyContent:"center",direction:"column"},n.createElement(ft.J,{as:ln.Z,color:"",width:"160px",height:"88px"}),n.createElement(G.x,{paddingTop:6,paddingBottom:4},n.createElement(G.x,{textAlign:"center"},n.createElement(w.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),n.createElement(G.x,{paddingTop:4},n.createElement(w.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),n.createElement(rn.Q,{to:`/marketplace?${on().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:n.createElement(Ke.Z,null)},e({id:(0,c.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},_t=({customFieldUid:e,customField:s})=>{const{type:o,intlLabel:r,intlDescription:i}=s,{formatMessage:d}=(0,h.Z)(),{onClickSelectCustomField:l}=(0,ee.Z)(),u=()=>{l({attributeType:o,customFieldUid:e})};return n.createElement(Wt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:u},n.createElement(_.k,null,n.createElement(we.Z,{type:o,customField:e}),n.createElement(G.x,{paddingLeft:4},n.createElement(_.k,null,n.createElement(w.Z,{fontWeight:"bold"},d(r))),n.createElement(_.k,null,n.createElement(w.Z,{variant:"pi",textColor:"neutral600"},d(i))))))};_t.propTypes={customFieldUid:a().string.isRequired,customField:a().shape({type:a().string.isRequired,icon:a().func,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,intlDescription:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired}).isRequired};const mn=_t,pn=()=>{const{formatMessage:e}=(0,h.Z)(),s=(0,g.useCustomFields)(),o=Object.entries(s.getAll());if(!o.length)return n.createElement(un,null);const r=o.sort((i,d)=>i[1].name>d[1].name?1:-1);return n.createElement(mt.k,{tagName:"button"},n.createElement(_.k,{direction:"column",alignItems:"stretch",gap:3},n.createElement(pt.r,{gap:0},r.map(([i,d],l)=>{const{paddingLeft:u,paddingRight:m}=St(l);return n.createElement(Je.P,{key:i,col:6,style:{height:"100%"}},n.createElement(G.x,{paddingLeft:u,paddingRight:m,paddingBottom:1,style:{height:"100%"}},n.createElement(mn,{key:i,customFieldUid:i,customField:d})))})),n.createElement(an.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,c.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Nt=({attributes:e,forTarget:s,kind:o})=>{const{formatMessage:r}=(0,h.Z)(),i=(0,c.Z)("modalForm.tabs.default"),d=(0,c.Z)("modalForm.tabs.custom"),l=s.includes("component")?"component":o,u=(0,c.Z)(`modalForm.sub-header.chooseAttribute.${l}`);return n.createElement(Qe.f,{padding:6},n.createElement(Ye.v,{label:r({id:(0,c.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},n.createElement(_.k,{justifyContent:"space-between"},n.createElement(w.Z,{variant:"beta",as:"h2"},r({id:u,defaultMessage:"Select a field"})),n.createElement(Ve.m,null,n.createElement(Ve.O,null,r({id:i,defaultMessage:"Default"})),n.createElement(Ve.O,null,r({id:d,defaultMessage:"Custom"})))),n.createElement(G.x,{paddingBottom:6},n.createElement(dt.i,null)),n.createElement(Ge.n,null,n.createElement(Ge.x,null,n.createElement(nn,{attributes:e})),n.createElement(Ge.x,null,n.createElement(pn,null)))))};Nt.propTypes={attributes:a().array.isRequired,forTarget:a().string.isRequired,kind:a().string.isRequired};const gn=Nt;var yt=t(36213);const Et=({description:e,disabled:s,intlLabel:o,isCreating:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,h.Z)(),[m,f]=(0,n.useState)(!1),y=o.id?u({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):i,p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",Z=()=>f(O=>!O),b=()=>{d({target:{name:i,value:!1}}),Z()},v=({target:{checked:O}})=>{if(!O&&!r){Z();return}d({target:{name:i,value:O}})};return n.createElement(n.Fragment,null,n.createElement(yt.X,{checked:l,disabled:s,hint:p,name:i,onChange:v},y),n.createElement(g.ConfirmDialog,{isOpen:m,onToggleDialog:Z,onConfirm:b,bodyText:{id:(0,c.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,c.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};Et.defaultProps={description:null,disabled:!1,value:!1},Et.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isCreating:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().bool};const fn=Et,ht=({description:e,disabled:s,intlLabel:o,isCreating:r,name:i,onChange:d,value:l})=>{const{trackUsage:u}=(0,g.useTracking)(),{formatMessage:m}=(0,h.Z)(),[f,y]=(0,n.useState)(!1),p=o.id?m({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):i,Z=e?m({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",b=()=>y(W=>!W),v=()=>{d({target:{name:i,value:!1}}),u("willDisableWorkflow"),b()},O=({target:{checked:W}})=>{if(!W&&!r){b();return}W&&u("willEnableWorkflow"),d({target:{name:i,value:W}})};return n.createElement(n.Fragment,null,n.createElement(yt.X,{checked:l,disabled:s,hint:Z,name:i,onChange:O},p),n.createElement(g.ConfirmDialog,{isOpen:f,onToggleDialog:b,onConfirm:v,bodyText:{id:(0,c.Z)("popUpWarning.review-workflows.message"),defaultMessage:"If you disable the review workflows feature, all stage-related information will be removed for this content-type. Are you sure you want to disable it?"},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,c.Z)("popUpWarning.review-workflows.button.confirm"),defaultMessage:"Yes, disable"}}))};ht.defaultProps={description:null,disabled:!1,value:!1},ht.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isCreating:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().bool};const yn=ht;var Kt=t(24969),Mt=t(2407);const vt=({actionType:e,attributeName:s,attributeType:o,categoryName:r,contentTypeKind:i,dynamicZoneTarget:d,forTarget:l,modalType:u,targetUid:m,customFieldUid:f})=>{const{formatMessage:y}=(0,h.Z)(),{modifiedData:p}=(0,We.Z)();let Z,b=[];const v=p?.[l]?.[m]||p?.[l]||null;let O=v?.schema.displayName;if(u==="contentType"&&(Z=i),["component","editCategory"].includes(u)&&(Z="component"),["component","contentType"].includes(u)){let C=(0,c.Z)(`modalForm.component.header-${e}`);return u==="contentType"&&(C=(0,c.Z)(`modalForm.${i}.header-create`)),e==="edit"&&(C=(0,c.Z)("modalForm.header-edit")),n.createElement(Kt.x,null,n.createElement(_.k,null,n.createElement(G.x,null,n.createElement(we.Z,{type:Z})),n.createElement(G.x,{paddingLeft:3},n.createElement(w.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},y({id:C},{name:O})))))}b=[{label:O,info:{category:v?.category||null,name:v?.schema.displayName}}],u==="chooseAttribute"&&(Z=["component","components"].includes(l)?"component":v.schema.kind),u==="addComponentToDynamicZone"&&(Z="dynamiczone",b.push({label:d})),(u==="attribute"||u==="customField")&&(Z=o,b.push({label:s})),u==="editCategory"&&(b=[{label:y({id:(0,c.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:r}]);const R=b.map(({label:C})=>C).join(",");return n.createElement(Kt.x,null,n.createElement(_.k,{gap:3},n.createElement(we.Z,{type:Z,customField:f}),n.createElement(Mt.O,{label:R},b.map((C,D)=>{const X=Ie()(C.label);if(!X)return null;const te=`${C.label}.${D}`;if(C.info?.category){const pe=`${X} (${Ie()(C.info.category)} - ${Ie()(C.info.name)})`;return n.createElement(Mt.$,{key:te},pe)}return n.createElement(Mt.$,{key:te},X)}))))};vt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},vt.propTypes={actionType:a().string,attributeName:a().string,attributeType:a().string,categoryName:a().string,contentTypeKind:a().string,dynamicZoneTarget:a().string,forTarget:a().oneOf(["contentType","component","components"]),modalType:a().string.isRequired,targetUid:a().string,customFieldUid:a().string};const En=vt,Tt=({categoryName:e,deleteCategory:s,deleteComponent:o,deleteContentType:r,isAttributeModal:i,isCustomFieldModal:d,isComponentAttribute:l,isComponentToDzModal:u,isContentTypeModal:m,isCreatingComponent:f,isCreatingComponentAttribute:y,isCreatingComponentInDz:p,isCreatingComponentWhileAddingAField:Z,isCreatingContentType:b,isCreatingDz:v,isComponentModal:O,isDzAttribute:W,isEditingAttribute:R,isEditingCategory:C,isInFirstComponentStep:D,onSubmitAddComponentAttribute:X,onSubmitAddComponentToDz:te,onSubmitCreateContentType:pe,onSubmitCreateComponent:ve,onSubmitCreateDz:$,onSubmitEditAttribute:Be,onSubmitEditCategory:ie,onSubmitEditComponent:ne,onSubmitEditContentType:_e,onSubmitEditCustomFieldAttribute:ae,onSubmitEditDz:st,onClickFinish:ye})=>{const{formatMessage:Q}=(0,h.Z)();return u?p?n.createElement(oe.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),te(P,!0)},startIcon:n.createElement(Ke.Z,null)},Q({id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):n.createElement(oe.z,{variant:"default",type:"submit",onClick:P=>{P.preventDefault(),te(P,!1)}},Q({id:"global.finish",defaultMessage:"Finish"})):i&&W&&!v?n.createElement(oe.z,{variant:"default",type:"submit",onClick:P=>{P.preventDefault(),ye(),st(P,!1)}},Q({id:"global.finish",defaultMessage:"Finish"})):i&&W&&v?n.createElement(n.Fragment,null,n.createElement(oe.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),$(P,!0)},startIcon:n.createElement(Ke.Z,null)},Q({id:(0,c.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):i&&l?D?n.createElement(oe.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),X(P,!0)}},Q(y?{id:(0,c.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,c.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):n.createElement(n.Fragment,null,n.createElement(oe.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),X(P,!0)},startIcon:n.createElement(Ke.Z,null)},Q(Z?{id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(oe.z,{variant:"default",type:"button",onClick:P=>{P.preventDefault(),ye(),X(P,!1)}},Q({id:"global.finish",defaultMessage:"Finish"}))):i&&!l&&!W?n.createElement(n.Fragment,null,n.createElement(oe.z,{type:R?"button":"submit",variant:"secondary",onClick:P=>{P.preventDefault(),Be(P,!0)},startIcon:n.createElement(Ke.Z,null)},Q({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(oe.z,{type:R?"submit":"button",variant:"default",onClick:P=>{P.preventDefault(),ye(),Be(P,!1)}},Q({id:"global.finish",defaultMessage:"Finish"}))):m?n.createElement(n.Fragment,null,!b&&n.createElement(n.Fragment,null,n.createElement(oe.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),r()}},Q({id:"global.delete",defaultMessage:"Delete"})),n.createElement(oe.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),_e(P,!1)}},Q({id:"global.finish",defaultMessage:"Finish"}))),b&&n.createElement(oe.z,{type:"submit",variant:"secondary",onClick:P=>{P.preventDefault(),pe(P,!0)}},Q({id:"global.continue",defaultMessage:"Continue"}))):O?n.createElement(n.Fragment,null,!f&&n.createElement(n.Fragment,null,n.createElement(oe.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),o()}},Q({id:"global.delete",defaultMessage:"Delete"})),n.createElement(oe.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),ne(P,!1)}},Q({id:"global.finish",defaultMessage:"Finish"}))),f&&n.createElement(oe.z,{type:"submit",variant:"secondary",onClick:P=>{P.preventDefault(),ve(P,!0)}},Q({id:"global.continue",defaultMessage:"Continue"}))):C?n.createElement(n.Fragment,null,n.createElement(oe.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),s(e)}},Q({id:"global.delete",defaultMessage:"Delete"})),n.createElement(oe.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),ie(P)}},Q({id:"global.finish",defaultMessage:"finish"}))):d?n.createElement(n.Fragment,null,n.createElement(oe.z,{type:R?"button":"submit",variant:"secondary",onClick:P=>{P.preventDefault(),ae(P,!0)},startIcon:n.createElement(Ke.Z,null)},Q({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(oe.z,{type:R?"submit":"button",variant:"default",onClick:P=>{P.preventDefault(),ye(),ae(P,!1)}},Q({id:"global.finish",defaultMessage:"Finish"}))):null};Tt.defaultProps={categoryName:null,onClickFinish(){}},Tt.propTypes={categoryName:a().string,deleteCategory:a().func.isRequired,deleteComponent:a().func.isRequired,deleteContentType:a().func.isRequired,isAttributeModal:a().bool.isRequired,isCustomFieldModal:a().bool.isRequired,isComponentAttribute:a().bool.isRequired,isComponentModal:a().bool.isRequired,isComponentToDzModal:a().bool.isRequired,isContentTypeModal:a().bool.isRequired,isCreatingComponent:a().bool.isRequired,isCreatingComponentAttribute:a().bool.isRequired,isCreatingComponentInDz:a().bool.isRequired,isCreatingComponentWhileAddingAField:a().bool.isRequired,isCreatingContentType:a().bool.isRequired,isCreatingDz:a().bool.isRequired,isDzAttribute:a().bool.isRequired,isEditingAttribute:a().bool.isRequired,isEditingCategory:a().bool.isRequired,isInFirstComponentStep:a().bool.isRequired,onSubmitAddComponentAttribute:a().func.isRequired,onSubmitAddComponentToDz:a().func.isRequired,onSubmitCreateContentType:a().func.isRequired,onSubmitCreateComponent:a().func.isRequired,onSubmitCreateDz:a().func.isRequired,onSubmitEditAttribute:a().func.isRequired,onSubmitEditCategory:a().func.isRequired,onSubmitEditComponent:a().func.isRequired,onSubmitEditContentType:a().func.isRequired,onSubmitEditCustomFieldAttribute:a().func.isRequired,onSubmitEditDz:a().func.isRequired,onClickFinish:a().func};const hn=Tt,Mn=({modalType:e,forTarget:s,kind:o,actionType:r,step:i})=>{switch(e){case"chooseAttribute":return(0,c.Z)(`modalForm.sub-header.chooseAttribute.${s.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,c.Z)(`modalForm.sub-header.attribute.${r}${i!=="null"&&i!==null&&r!=="edit"?".step":""}`);case"customField":return(0,c.Z)(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return(0,c.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,c.Z)("configurations")}},bt=({actionType:e,modalType:s,forTarget:o,kind:r,step:i,attributeType:d,attributeName:l,customField:u})=>{const{formatMessage:m}=(0,h.Z)(),f=s==="customField"?u.intlLabel:{id:(0,c.Z)(`attribute.${d}`)};return n.createElement(_.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},n.createElement(w.Z,{as:"h2",variant:"beta"},m({id:Mn({actionType:e,forTarget:o,kind:r,step:i,modalType:s}),defaultMessage:"Add new field"},{type:Ie()(m(f)),name:Ie()(l),step:i})),n.createElement(w.Z,{variant:"pi",textColor:"neutral600"},m({id:(0,c.Z)(`attribute.${d}.description`),defaultMessage:"A type for modeling data"})))};bt.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},bt.propTypes={actionType:a().string,modalType:a().string,forTarget:a().string,kind:a().string,step:a().string,attributeType:a().string,attributeName:a().string,customField:a().object};const vn=bt;var et=t(40619),tt=t(82562);const Ct=({intlLabel:e,name:s,options:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,h.Z)(),l=e.id?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):s,u=m=>{let f="";m==="true"&&(f=!0),m==="false"&&(f=!1),r({target:{name:s,value:f,type:"select-default-boolean"}})};return n.createElement(et.P,{label:l,id:s,name:s,onChange:u,value:(i===null?"":i).toString()},o.map(({metadatas:{intlLabel:m,disabled:f,hidden:y},key:p,value:Z})=>n.createElement(tt.W,{key:p,value:Z,disabled:f,hidden:y},m.defaultMessage)))};Ct.defaultProps={value:null},Ct.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().any};const Tn=Ct;var $t=t(15585);const bn=(0,Pe.default)(_.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,$t.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${w.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,Rt=({intlLabel:e,name:s,onChange:o,radios:r,value:i})=>{const{formatMessage:d}=(0,h.Z)();return n.createElement(_.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(w.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:s,as:"label"},d(e)),n.createElement(bn,{gap:4,alignItems:"stretch"},r.map(l=>n.createElement("label",{htmlFor:l.value.toString(),key:l.value,className:"container"},n.createElement("input",{id:l.value.toString(),name:s,className:"option-input",checked:l.value===i,value:l.value,key:l.value,onChange:o,type:"radio"}),n.createElement(G.x,{className:"option",padding:4},n.createElement(_.k,null,n.createElement(G.x,{paddingRight:4},n.createElement("span",{className:"checkmark"})),n.createElement(_.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(w.Z,{fontWeight:"bold"},d(l.title)),n.createElement(w.Z,{variant:"pi",textColor:"neutral600"},d(l.description)))))))))};Rt.defaultProps={radios:[]},Rt.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,radios:a().arrayOf(a().shape({title:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}),description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}),value:a().any.isRequired})),value:a().oneOfType([a().string,a().bool]).isRequired};const Ot=Rt,jt=({onChange:e,name:s,...o})=>{const r=i=>{const d=i.target.value!=="false";e({target:{name:s,value:d,type:"boolean-radio-group"}})};return n.createElement(Ot,{...o,name:s,onChange:r})};jt.propTypes={name:a().string.isRequired,onChange:a().func.isRequired};const Cn=jt;var Zt=t(16364),Rn=t(81154);const Pt=({error:e,intlLabel:s,modifiedData:o,name:r,onChange:i,value:d})=>{const{formatMessage:l}=(0,h.Z)(),[u,m]=(0,n.useState)(!!d||d===0),f=s.id?l({id:s.id,defaultMessage:s.defaultMessage},{...s.values}):r,y=o.type==="biginteger"?"text":"number",p=!o.type,Z=e?l({id:e,defaultMessage:e}):"";return n.createElement(_.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(yt.X,{id:r,name:r,onValueChange:b=>{i({target:{name:r,value:b?y==="text"?"0":0:null}}),m(W=>!W)},value:u},f),u&&n.createElement(G.x,{paddingLeft:6,style:{maxWidth:"200px"}},y==="text"?n.createElement(Zt.o,{"aria-label":f,disabled:p,error:Z,id:r,name:r,onChange:i,value:d===null?"":d}):n.createElement(Rn.Y,{"aria-label":f,disabled:p,error:Z,id:r,name:r,onValueChange:b=>{i({target:{name:r,value:b,type:y}})},value:d||0})))};Pt.defaultProps={error:null,value:null},Pt.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().oneOfType([a().string,a().object,a().bool,a().number])};const On=Pt,zt=({onChange:e,...s})=>{const o=(0,g.useNotification)(),r=i=>{o({type:"info",message:{id:(0,c.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(i)};return n.createElement(Ot,{...s,onChange:r})};zt.propTypes={onChange:a().func.isRequired};const Zn=zt;var Pn=t(54574),Dn=t(19270),An=t(63237),xn=t(45377),Ln=t(49123),Vt=t(12028),In=t(84495),Bn=t(97184),Un=t(20022),Gt=t(44915);const Wn=(0,Pe.default)(_.k)`
  label {
    ${$t.k3}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,kt=({iconKey:e,name:s,onChange:o,isSelected:r,ariaLabel:i})=>n.createElement(Pn.g,{name:s,required:!1},n.createElement(Dn.Q,{htmlFor:e,id:`${e}-label`},n.createElement(An.T,null,n.createElement(xn._,{type:"radio",id:e,name:s,checked:r,onChange:o,value:e,"aria-checked":r,"aria-labelledby":`${e}-label`}),i),n.createElement(_.k,{padding:2,cursor:"pointer",hasRadius:!0,background:r&&"primary200"},n.createElement(ft.J,{as:Gt.c[e],color:r?"primary600":"neutral300"}))));kt.propTypes={iconKey:a().string.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,isSelected:a().bool.isRequired,ariaLabel:a().string.isRequired};const Dt=({intlLabel:e,name:s,onChange:o,value:r})=>{const{formatMessage:i}=(0,h.Z)(),[d,l]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),f=Object.keys(Gt.c),[y,p]=(0,n.useState)(f),Z=(0,n.useRef)(null),b=(0,n.useRef)(null),v=()=>{l(!d)},O=({target:{value:C}})=>{m(C),p(()=>f.filter(D=>D.toLowerCase().includes(C.toLowerCase())))},W=()=>{v(),m(""),p(f)},R=()=>{o({target:{name:s,value:""}})};return(0,n.useEffect)(()=>{d&&b.current.focus()},[d]),n.createElement(n.Fragment,null,n.createElement(_.k,{justifyContent:"space-between",paddingBottom:2},n.createElement(w.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label"},i(e)),n.createElement(_.k,{gap:1},d?n.createElement(Ln.w,{ref:b,name:"searchbar",size:"S",placeholder:i({id:(0,c.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{u||v()},onChange:O,value:u,onClear:W,clearLabel:i({id:(0,c.Z)("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"})},i({id:(0,c.Z)("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})):n.createElement(Vt.h,{ref:Z,onClick:v,"aria-label":i({id:(0,c.Z)("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:n.createElement(Bn.Z,null),noBorder:!0}),r&&n.createElement(In.u,{description:i({id:(0,c.Z)("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"})},n.createElement(Vt.h,{onClick:R,"aria-label":i({id:(0,c.Z)("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:n.createElement(Un.Z,null),noBorder:!0})))),n.createElement(Wn,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center"},y.length>0?y.map(C=>n.createElement(kt,{key:C,iconKey:C,name:s,onChange:o,isSelected:C===r,ariaLabel:i({id:(0,c.Z)("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:C})})):n.createElement(G.x,{padding:4,grow:2},n.createElement(w.Z,{variant:"delta",textColor:"neutral600",textAlign:"center"},i({id:(0,c.Z)("IconPicker.emptyState.label"),defaultMessage:"No icon found"})))))};Dt.defaultProps={value:""},Dt.propTypes={intlLabel:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const Sn=Dt;var At=t(1734),Ht=t(17205),de=t(59015);const Fn=({oneThatIsCreatingARelationWithAnother:e,target:s})=>{const{contentTypes:o,sortedContentTypesList:r}=(0,We.Z)(),i=(0,ue.useDispatch)(),d=r.filter(Ut),l=E()(o,[s,"plugin"],null),u=E()(o,[s,"schema","displayName"],"error");return n.createElement(Ht.O,{id:"label",label:`${u}
    ${l?`(from: ${l})`:""}`},d.map(({uid:m,title:f,restrictRelationsTo:y,plugin:p})=>{const Z=()=>{const b=p?`${p}_${f}`:f;i({type:de.aG,target:{value:m,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:b,targetContentTypeAllowedRelations:y}})};return n.createElement(Ht.s,{key:m,onClick:Z},f,"\xA0",p&&n.createElement(n.Fragment,null,"(from: ",p,")"))}))};Fn.defaultProps={target:null},Fn.propTypes={oneThatIsCreatingARelationWithAnother:a().string.isRequired,target:a().string};const ss=Fn,_n=({disabled:e,error:s,header:o,isMain:r,name:i,onChange:d,oneThatIsCreatingARelationWithAnother:l,target:u,value:m})=>n.createElement(G.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},n.createElement(_.k,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center"},r?n.createElement(w.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):n.createElement(ss,{target:u,oneThatIsCreatingARelationWithAnother:l})),n.createElement(dt.i,{background:"neutral200"}),n.createElement(G.x,{padding:4},n.createElement(g.GenericInput,{disabled:e,error:s?.id||null,intlLabel:{id:(0,c.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:i,onChange:d,type:"text",value:m})));_n.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},_n.propTypes={disabled:a().bool,error:a().object,header:a().string,isMain:a().bool,name:a().string.isRequired,onChange:a().func,oneThatIsCreatingARelationWithAnother:a().string,target:a().string,value:a().string};const Ta=_n;var os=t(39138),ba=t.n(os),is=t(23450),Nn=t.n(is),rs=t(31795),ls=t(1182),ds=t(132),cs=t(70412),us=t(8204),ms=t(56858);const ps=(0,Pe.default)(G.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,gs=(0,Pe.default)(G.x)`
  background: ${({theme:e,isSelected:s})=>e.colors[s?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:s})=>e.colors[s?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:s})=>e.colors[s?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,fs=(0,Pe.default)(_.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,ys={oneWay:rs.Z,oneToOne:ls.Z,oneToMany:ds.Z,manyToOne:cs.Z,manyToMany:us.Z,manyWay:ms.Z},Kn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:s,relationType:o,target:r})=>{const i=(0,ue.useDispatch)(),{formatMessage:d}=(0,h.Z)(),{contentTypes:l,modifiedData:u}=(0,We.Z)(),m=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],f=["oneWay","manyWay"],p=(e==="contentType"?E()(u,[e,"schema","kind"],""):e)==="collectionType"?m:f,Z=o==="manyToOne",b=E()(l,[r,"schema","displayName"],"unknown"),v=Z?b:s,O=Z?s:b,W=Nn()(v,o==="manyToMany"?2:1),R=E()(l,[r,"schema","restrictRelationsTo"],null),C=Nn()(O,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?n.createElement(_.k,{style:{flex:1}},n.createElement(ps,null,n.createElement(_.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},n.createElement(mt.k,{tagName:"button"},n.createElement(_.k,{gap:3},p.map(D=>{const X=ys[D],te=R===null||R.includes(D);return n.createElement(gs,{as:"button",isSelected:o===D,disabled:!te,key:D,onClick:()=>{te&&i({type:de.QQ,target:{oneThatIsCreatingARelationWithAnother:s,targetContentType:r,value:D}})},padding:2,type:"button"},n.createElement(X,{key:D}))}))))),n.createElement(fs,{justifyContent:"center"},n.createElement(w.Z,null,ba()(W,{length:24}),"\xA0"),n.createElement(w.Z,{textColor:"primary600"},d({id:(0,c.Z)(`relation.${o}`)}),"\xA0"),n.createElement(w.Z,null,ba()(C,{length:24})))):null};Kn.defaultProps={relationType:null,target:null},Kn.propTypes={naturePickerType:a().string.isRequired,oneThatIsCreatingARelationWithAnother:a().string.isRequired,relationType:a().string,target:a().string};const Es=Kn,Ca=({formErrors:e,mainBoxHeader:s,modifiedData:o,naturePickerType:r,onChange:i})=>{const d=(0,At.Z)(o.relation,o.targetAttribute);return n.createElement(_.k,{style:{position:"relative"}},n.createElement(Ta,{isMain:!0,header:s,error:e?.name||null,name:"name",onChange:i,value:o?.name||""}),n.createElement(Es,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:s,relationType:d,target:o.target}),n.createElement(Ta,{disabled:["oneWay","manyWay"].includes(d),error:e?.targetAttribute||null,name:"targetAttribute",onChange:i,oneThatIsCreatingARelationWithAnother:s,target:o.target,value:o?.targetAttribute||""}))};Ca.propTypes={formErrors:a().object.isRequired,mainBoxHeader:a().string.isRequired,modifiedData:a().object.isRequired,naturePickerType:a().string.isRequired,onChange:a().func.isRequired};const hs=Ca;var Ra=t(97406);const $n=({description:e,error:s,intlLabel:o,modifiedData:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,h.Z)(),m=(0,n.useRef)(d),f=r?.displayName||"";(0,n.useEffect)(()=>{if(f){const b=(0,Ra.Z)(f);try{const v=Nn()(b,2);m.current({target:{name:i,value:v}})}catch{m.current({target:{name:i,value:b}})}}else m.current({target:{name:i,value:""}})},[f,i]);const y=s?u({id:s,defaultMessage:s}):"",p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",Z=u(o);return n.createElement(Zt.o,{error:y,label:Z,id:i,hint:p,name:i,onChange:d,value:l||""})};$n.defaultProps={description:null,error:null,value:null},$n.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const Ms=$n;var vs=t(29178),Ts=t(90608);const jn=({error:e,intlLabel:s,name:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,h.Z)(),{allComponentsCategories:l}=(0,We.Z)(),[u,m]=(0,n.useState)(l),f=e?d({id:e,defaultMessage:e}):"",y=d(s),p=b=>{r({target:{name:o,value:b,type:"select-category"}})},Z=b=>{m(v=>[...v,b]),p(b)};return n.createElement(vs.XU,{error:f,id:o,label:y,name:o,onChange:p,onCreateOption:Z,value:i},u.map(b=>n.createElement(Ts.O,{key:b,value:b},b)))};jn.defaultProps={error:null,value:null},jn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const bs=jn,zn=({error:e,intlLabel:s,isAddingAComponentToAnotherComponent:o,isCreating:r,isCreatingComponentWhileAddingAField:i,componentToCreate:d,name:l,onChange:u,targetUid:m,forTarget:f,value:y})=>{const{formatMessage:p}=(0,h.Z)(),Z=e?p({id:e,defaultMessage:e}):"",b=p(s),{componentsGroupedByCategory:v,componentsThatHaveOtherComponentInTheirAttributes:O}=(0,We.Z)(),W=["component","components"].includes(f);let R=Object.entries(v).reduce((C,D)=>{const[X,te]=D,pe=te.map(ve=>({uid:ve.uid,label:ve.schema.displayName,categoryName:X}));return[...C,...pe]},[]);return o&&(R=R.filter(C=>!O.includes(C.uid))),W&&(R=R.filter(C=>C.uid!==m)),i&&(R=[{uid:y,label:d.displayName,categoryName:d.category}]),n.createElement(et.P,{disabled:i||!r,error:Z,label:b,id:l,name:l,onChange:C=>{u({target:{name:l,value:C,type:"select-category"}})},value:y||""},R.map(C=>n.createElement(tt.W,{key:C.uid,value:C.uid},`${C.categoryName} - ${C.label}`)))};zn.defaultProps={componentToCreate:null,error:null},zn.propTypes={componentToCreate:a().object,forTarget:a().string.isRequired,error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isAddingAComponentToAnotherComponent:a().bool.isRequired,isCreating:a().bool.isRequired,isCreatingComponentWhileAddingAField:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,targetUid:a().string.isRequired,value:a().string.isRequired};const Cs=zn,Vn=(e,s)=>e.find(({name:o})=>o===s),Oa=({dynamicZoneTarget:e,intlLabel:s,name:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,h.Z)(),{componentsGroupedByCategory:l,modifiedData:u}=(0,We.Z)(),f=(Vn(u.contentType.schema.attributes,e)||{}).components||[],y=Object.keys(l).reduce((b,v)=>{const O=l[v].filter(({uid:W})=>!f.includes(W));return O.length>0&&(b[v]=O),b},{}),p=Object.entries(y).reduce((b,v)=>{const[O,W]=v,R={label:O,children:W.map(({uid:C,schema:{displayName:D}})=>({label:D,value:C}))};return b.push(R),b},[]),Z=d({id:(0,c.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:i.length});return n.createElement(Bt.Q,{id:"select1",label:d(s),customizeContent:()=>Z,name:o,onChange:b=>{r({target:{name:o,value:b,type:"select-components"}})},options:p,value:i||[]})};Oa.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,dynamicZoneTarget:a().string.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().array.isRequired};const Rs=Oa,Gn=({intlLabel:e,error:s,modifiedData:o,name:r,onChange:i,options:d,value:l})=>{const{formatMessage:u}=(0,h.Z)(),m=u(e),f=s?u({id:s,defaultMessage:s}):"",y=p=>{i({target:{name:r,value:p,type:"select"}}),l&&o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}})};return n.createElement(et.P,{error:f,label:m,id:r,name:r,onChange:y,value:l||""},d.map(({metadatas:{intlLabel:p,disabled:Z,hidden:b},key:v,value:O})=>n.createElement(tt.W,{key:v,value:O,disabled:Z,hidden:b},u({id:p.id,defaultMessage:p.defaultMessage},p.values))))};Gn.defaultProps={error:void 0,value:""},Gn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().string};const Os=Gn,kn=({intlLabel:e,error:s,modifiedData:o,name:r,onChange:i,options:d,value:l})=>{const{formatMessage:u}=(0,h.Z)(),m=u(e),f=s?u({id:s,defaultMessage:s}):"",y=p=>{i({target:{name:r,value:p,type:"select"}}),l&&(p==="biginteger"&&l!=="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})),["decimal","float","integer"].includes(p)&&l==="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})))};return n.createElement(et.P,{error:f,label:m,id:r,name:r,onChange:y,value:l||""},d.map(({metadatas:{intlLabel:p,disabled:Z,hidden:b},key:v,value:O})=>n.createElement(tt.W,{key:v,value:O,disabled:Z,hidden:b},u(p))))};kn.defaultProps={error:void 0,value:""},kn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().string};const Zs=kn,Hn=({description:e,error:s,intlLabel:o,modifiedData:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,h.Z)(),m=(0,n.useRef)(d),f=r?.displayName||"";(0,n.useEffect)(()=>{f?m.current({target:{name:i,value:(0,Ra.Z)(f)}}):m.current({target:{name:i,value:""}})},[f,i]);const y=s?u({id:s,defaultMessage:s}):"",p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",Z=u(o);return n.createElement(Zt.o,{error:y,label:Z,id:i,hint:p,name:i,onChange:d,value:l||""})};Hn.defaultProps={description:null,error:null,value:null},Hn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const Ps=Hn,Za=({form:e,formErrors:s,genericInputProps:o,modifiedData:r,onChange:i})=>{const{formatMessage:d}=(0,h.Z)();return e.map((l,u)=>l.items.length===0?null:n.createElement(G.x,{key:u},l.sectionTitle&&n.createElement(G.x,{paddingBottom:4},n.createElement(w.Z,{variant:"delta",as:"h3"},d(l.sectionTitle))),n.createElement(pt.r,{gap:4},l.items.map((m,f)=>{const y=`${u}.${f}`,p=E()(r,m.name,""),Z=Object.keys(s).find(v=>v===m.name),b=Z?s[Z].id:E()(s,[...m.name.split(".").filter(v=>v!=="componentToCreate"),"id"],null);return m.type==="pushRight"?n.createElement(Je.P,{col:m.size||6,key:m.name||y},n.createElement("div",null)):n.createElement(Je.P,{col:m.size||6,key:m.name||y},n.createElement(g.GenericInput,{...m,...o,error:b,onChange:i,value:p}))}))))};Za.propTypes={form:a().arrayOf(a().object).isRequired,formErrors:a().object.isRequired,genericInputProps:a().object.isRequired,modifiedData:a().object.isRequired,onChange:a().func.isRequired};const Pa=Za;var Ds=t(61467);const Xn=({description:e,disabled:s,error:o,intlLabel:r,labelAction:i,name:d,onChange:l,placeholder:u,value:m})=>{const{formatMessage:f}=(0,h.Z)(),y=o?f({id:o,defaultMessage:o}):"",p=e?f({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",Z=f(r),b=u?f({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):"",v=Array.isArray(m)?m.join(`
`):"",O=W=>{const R=W.target.value.split(`
`);l({target:{name:d,value:R}})};return n.createElement(Ds.g,{disabled:s,error:y,label:Z,labelAction:i,id:d,hint:p,name:d,onChange:O,placeholder:b,value:v},v)};Xn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Xn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,labelAction:a().element,name:a().string.isRequired,onChange:a().func.isRequired,placeholder:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),value:a().oneOfType([a().array,a().string])};const As=Xn,xs=(e,s)=>{const o=E()(e,["contentType","schema","kind"],"");return o==="singleType"||o===s.kind?!0:E()(e,["contentType","schema","attributes"],[]).filter(({relation:d,type:l,targetAttribute:u})=>{const m=(0,At.Z)(d,u);return l==="relation"&&!["oneWay","manyWay"].includes(m)}).length===0},Ls=(e="",s,o)=>{const r=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],i=e==="contentType",d=o.includes(s),l=!i&&!d;return i?[[...r,"uid"],["component","dynamiczone"]]:l?[r,["component"]]:[r]},Da=e=>e.reduce((s,o)=>{const r=o.items.reduce((i,d)=>(d.name&&i.push(d.name),i),[]);return[...s,...r]},[]);var T=t(87561),nt=t(97392);const Is={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},Aa=/^[A-Za-z][-_0-9A-Za-z]*$/,Bs=e=>{const s={name:T.Z_().matches(Aa,g.translatedErrors.regex).test({name:"nameNotAllowed",message:g.translatedErrors.unique,test(o){return o?!e.includes(o?.toLowerCase()):!1}}).required(g.translatedErrors.required)};return T.Ry(s)},Us=(e,s,o)=>{const r={displayName:T.Z_().test({name:"nameAlreadyUsed",message:g.translatedErrors.unique,test(i){if(!i)return!1;const d=(0,nt.N)(i,o);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(i){return i?!s.includes(i?.trim()?.toLowerCase()):!1}}).required(g.translatedErrors.required),category:T.Z_().matches(Aa,g.translatedErrors.regex).required(g.translatedErrors.required),icon:T.Z_()};return T.Ry(r)},Yn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,c.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,c.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},at={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,c.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:(0,c.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},A={default:{name:"default",type:"text",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,c.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,c.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,c.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,c.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,c.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Ws={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.private]}]}},component({repeatable:e},s){return s==="1"?{sections:at.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.private,A.max,A.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...A.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.unique,A.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.max,A.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...A.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.unique,A.maxLength,A.minLength,A.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((s,o)=>e.enum.indexOf(s)===o&&s).map(s=>({key:s,value:s,metadatas:{intlLabel:{id:`${s}.no-override`,defaultMessage:s}}}))]},{intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,c.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,c.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.private]}]}},number(e){const s=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:s,intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.unique,A.max,A.min,A.private]}]}},password(){return{sections:[{sectionTitle:null,items:[A.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.maxLength,A.minLength,A.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[A.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.maxLength,A.minLength,A.private]}]}},text(){return{sections:[{sectionTitle:null,items:[A.default,A.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.unique,A.maxLength,A.minLength,A.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...A.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[A.required,A.maxLength,A.minLength,A.private]}]}}},Se={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},xa={advanced:Ws,base:{component(e,s){if(s==="1"){const o=e.createComponent===!0?at.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Yn]},...o]}}return{sections:[{sectionTitle:null,items:[Se,{name:"component",type:"select-component",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,c.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,c.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Se,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Se]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,c.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Se]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,c.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,c.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,c.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Se,{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Se]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Se]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,s,o){const r=o.filter(({type:i})=>["string","text"].includes(i)).map(({name:i})=>({key:i,value:i,metadatas:{intlLabel:{id:`${i}.no-override`,defaultMessage:i}}}));return{sections:[{sectionTitle:null,items:[{...Se,placeholder:{id:(0,c.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,c.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}}},Ss={sections:[{sectionTitle:null,items:[Se]}]};var Fs=t(44908),_s=t.n(Fs),Ns=t(46831),Ks=t.n(Ns);const qn=e=>Ks()(e,{decamelize:!1,lowercase:!1,separator:"_"});var $s=t(14841),Qn=t.n($s);const La=/^[A-Za-z][_0-9A-Za-z]*$/,Ia=e=>({name:"attributeNameAlreadyUsed",message:g.translatedErrors.unique,test(s){return s?!e.includes(s):!1}}),hi=(e,s,o)=>{const r=e?.schema?.attributes??{};return Object.keys(r).filter(i=>s?i!==o:!0)},Jn=e=>({name:"forbiddenAttributeName",message:(0,c.Z)("error.attributeName.reserved-name"),test(s){return s?!e.includes(s):!1}}),M={default:()=>T.Z_().nullable(),max:()=>T.Rx().integer().nullable(),min:()=>T.Rx().integer().when("max",(e,s)=>e?s.max(e,(0,c.Z)("error.validation.minSupMax")):s).nullable(),maxLength:()=>T.Rx().integer().positive((0,c.Z)("error.validation.positive")).nullable(),minLength:()=>T.Rx().integer().min(0).when("maxLength",(e,s)=>e?s.max(e,(0,c.Z)("error.validation.minSupMax")):s).nullable(),name(e,s){return T.Z_().test(Ia(e)).test(Jn(s)).matches(La,g.translatedErrors.regex).required(g.translatedErrors.required)},required:()=>T.O7(),type:()=>T.Z_().required(g.translatedErrors.required),unique:()=>T.O7().nullable()},wn=(e,s)=>({name:M.name(e,s),type:M.type(),default:M.default(),unique:M.unique(),required:M.required(),maxLength:M.maxLength(),minLength:M.minLength(),regex:T.Z_().test({name:"isValidRegExpPattern",message:(0,c.Z)("error.validation.regex"),test(r){return new RegExp(r)!==null}}).nullable()}),ea={name:"isMinSuperiorThanMax",message:(0,c.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:s}=this.parent;return!s||Number.isNaN(Qn()(e))?!0:Qn()(s)>=Qn()(e)}},ta={date(e,s){const o={name:M.name(e,s),type:M.type()};return T.Ry(o)},datetime(e,s){const o={name:M.name(e,s),type:M.type()};return T.Ry(o)},time(e,s){const o={name:M.name(e,s),type:M.type()};return T.Ry(o)},default(e,s){const o={name:M.name(e,s),type:M.type()};return T.Ry(o)},biginteger(e,s){const o={name:M.name(e,s),type:M.type(),default:T.Z_().nullable().matches(/^-?\d*$/),unique:M.unique(),required:M.required(),max:T.Z_().nullable().matches(/^-?\d*$/,g.translatedErrors.regex),min:T.Z_().nullable().test(ea).matches(/^-?\d*$/,g.translatedErrors.regex)};return T.Ry(o)},boolean(e,s){const o={name:M.name(e,s),default:T.O7().nullable(),required:M.required(),unique:M.unique()};return T.Ry(o)},component(e,s){const o={name:M.name(e,s),type:M.type(),required:M.required(),max:M.max(),min:M.min(),component:T.Z_().required(g.translatedErrors.required)};return T.Ry(o)},decimal(e,s){const o={name:M.name(e,s),type:M.type(),default:T.Rx(),required:M.required(),max:T.Rx(),min:T.Rx().test(ea)};return T.Ry(o)},dynamiczone(e,s){const o={name:M.name(e,s),type:M.type(),required:M.required(),max:M.max(),min:M.min()};return T.Ry(o)},email(e,s){const o={name:M.name(e,s),type:M.type(),default:T.Z_().email().nullable(),unique:M.unique(),required:M.required(),maxLength:M.maxLength(),minLength:M.minLength()};return T.Ry(o)},enumeration(e,s){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:T.Z_().test(Ia(e)).test(Jn(s)).matches(o,g.translatedErrors.regex).required(g.translatedErrors.required),type:M.type(),default:M.default(),unique:M.unique(),required:M.required(),enum:T.IX().of(T.Z_()).min(1,g.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,c.Z)("error.validation.enum-duplicate"),test(i){return!_s()(i.map(qn).filter((l,u,m)=>m.indexOf(l)!==u)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,c.Z)("error.validation.enum-empty-string"),test:i=>!i.map(qn).some(d=>d==="")}).test({name:"doesMatchRegex",message:(0,c.Z)("error.validation.enum-regex"),test:i=>i.map(qn).every(d=>o.test(d))}),enumName:T.Z_().nullable()};return T.Ry(r)},float(e,s){const o={name:M.name(e,s),type:M.type(),required:M.required(),default:T.Rx(),max:T.Rx(),min:T.Rx().test(ea)};return T.Ry(o)},integer(e,s){const o={name:M.name(e,s),type:M.type(),default:T.Rx().integer(),unique:M.unique(),required:M.required(),max:M.max(),min:M.min()};return T.Ry(o)},json(e,s){const o={name:M.name(e,s),type:M.type(),required:M.required(),unique:M.unique()};return T.Ry(o)},media(e,s){const o={name:M.name(e,s),type:M.type(),multiple:T.O7(),required:M.required(),allowedTypes:T.IX().of(T.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return T.Ry(o)},password(e,s){const o={name:M.name(e,s),type:M.type(),default:M.default(),unique:M.unique(),required:M.required(),maxLength:M.maxLength(),minLength:M.minLength()};return T.Ry(o)},relation(e,s,o,{initialData:r,modifiedData:i}){const d={name:M.name(e,s),target:T.Z_().required(g.translatedErrors.required),relation:T.Z_().required(),type:T.Z_().required(),targetAttribute:T.Vo(()=>{const l=(0,At.Z)(i.relation,i.targetAttribute);if(l==="oneWay"||l==="manyWay")return T.Z_().nullable();let u=T.Z_().test(Jn(s)),f=[...o.map(({name:y})=>y),i.name].filter(y=>y!==r.targetAttribute);return u.matches(La,g.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,c.Z)("error.validation.relation.targetAttribute-taken"),test(y){return y?!f.includes(y):!1}}).required(g.translatedErrors.required)})};return T.Ry(d)},richtext(e,s){const o={name:M.name(e,s),type:M.type(),default:M.default(),unique:M.unique(),required:M.required(),maxLength:M.maxLength(),minLength:M.minLength()};return T.Ry(o)},string(e,s){const o=wn(e,s);return T.Ry(o)},text(e,s){const o=wn(e,s);return T.Ry(o)},uid(e,s){const o=wn(e,s);return T.Ry(o)}},Ba={name:"displayName",type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},na={advanced:{default(){const e=[{intlLabel:{id:(0,c.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,c.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}];return window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&e.push({intlLabel:{id:(0,c.Z)("contentType.reviewWorkflows.label"),defaultMessage:"Review Workflows"},description:{id:(0,c.Z)("contentType.reviewWorkflows.description"),defaultMessage:"Allows having content in different review stages"},name:"reviewWorkflows",type:"toggle-review-workflows",validations:{}}),{sections:[{items:e}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Ba,{description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Ba,{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,c.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,c.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,c.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},js=({usedContentTypeNames:e=[],reservedModels:s=[],singularNames:o=[],pluralNames:r=[],collectionNames:i=[]})=>{const d={displayName:T.Z_().test({name:"nameAlreadyUsed",message:g.translatedErrors.unique,test(l){if(!l)return!1;const u=(0,nt.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!s.includes(l?.trim()?.toLowerCase()):!1}}).required(g.translatedErrors.required),pluralName:T.Z_().test({name:"pluralNameAlreadyUsed",message:g.translatedErrors.unique,test(l){return l?!r.includes(l):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,c.Z)("error.contentType.pluralName-equals-singularName"),test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!s.includes(l?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,c.Z)("error.contentType.pluralName-equals-collectionName"),test(l){return l?!i.includes(l?.trim()?.toLowerCase()):!1}}).required(g.translatedErrors.required),singularName:T.Z_().test({name:"singularNameAlreadyUsed",message:g.translatedErrors.unique,test(l){return l?!o.includes(l):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,c.Z)("error.contentType.singularName-equals-pluralName"),test(l){return l?!r.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!s.includes(l?.trim()?.toLowerCase()):!1}}).required(g.translatedErrors.required),draftAndPublish:T.O7(),kind:T.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:T.O7()};return T.Ry(d)},aa={advanced:{default(){return{sections:at.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Yn]},...at.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Yn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Ua=(e,s)=>{e.forEach(o=>{if(!("sectionTitle"in o)){s[0].items.push(o);return}s.push(o)})},Wa=(e,s)=>e.filter(({name:o})=>o!==s.initialData.name).map(({name:o})=>o),ke={customField:{schema({schemaAttributes:e,attributeType:s,customFieldValidator:o,reservedNames:r,schemaData:i,ctbFormsAPI:d}){const l=Wa(e,i),u=ta[s](l,r.attributes);return d.makeCustomFieldValidator(u,o,l,r.attributes,i)},form:{base({customField:e}){const s=[{sectionTitle:null,items:[Se]}];return e.options?.base&&Ua(e.options.base,s),{sections:s}},advanced({customField:e,data:s,step:o,extensions:r,...i}){const d=[{sectionTitle:null,items:[]}],l=r.getAdvancedForm(["attribute",e.type],{data:s,type:e.type,step:o,...i});if(e.options?.advanced&&Ua(e.options.advanced,d),l){const u={sectionTitle:{id:(0,c.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:l};d.push(u)}return{sections:d}}}},attribute:{schema(e,s,o,r,i,d){const l=e?.schema?.attributes??[],u=Wa(l,i);try{let m=ta[s](u,o.attributes,r,i);return d.makeValidator(["attribute",s],m,u,o.attributes,r,i)}catch(m){return console.error("Error yup build schema",m),ta.default(u,o.attributes)}},form:{advanced({data:e,type:s,step:o,extensions:r,...i}){try{const d=xa.advanced[s](e,o).sections,l=r.getAdvancedForm(["attribute",s],{data:e,type:s,step:o,...i});return{sections:d.reduce((m,f)=>(f.sectionTitle===null?m.push(f):m.push({...f,items:[...f.items,...l]}),m),[])}}catch(d){return console.error(d),{sections:[]}}},base({data:e,type:s,step:o,attributes:r}){try{return xa.base[s](e,o,r)}catch{return Ss}}}},contentType:{schema(e,s,o,r,i,d){const l=Object.values(d).map(v=>v.schema.singularName),u=Object.values(d).map(v=>v?.schema?.pluralName??""),m=s?e.filter(v=>v!==o):e,f=s?l.filter(v=>{const{schema:O}=d[o];return O.singularName!==v}):l,y=s?u.filter(v=>{const{schema:O}=d[o];return O.pluralName!==v}):u,p=Object.values(d).map(v=>v?.schema?.collectionName??""),Z=s?p.filter(v=>{const{schema:O}=d[o],W=O.pluralName,R=O.collectionName;return v!==W||v!==R}):p,b=js({usedContentTypeNames:m,reservedModels:r.models,singularNames:f,pluralNames:y,collectionNames:Z});return i.makeValidator(["contentType"],b,m,r.models,f,y)},form:{base({actionType:e}){return e==="create"?na.base.create():na.base.edit()},advanced({extensions:e}){const s=na.advanced.default().sections.map(r=>r.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...s,...o]}]}}}},component:{schema(e,s,o,r=!1,i=null){const d=r?e.filter(l=>l!==i):e;return Us(d,o.models,s)},form:{advanced(){return{sections:at.advanced()}},base(){return{sections:at.base()}}}},addComponentToDynamicZone:{form:{advanced(){return aa.advanced.default()},base({data:e}){return e?.createComponent??!1?aa.base.createComponent():aa.base.default()}}},editCategory:{schema(e,s){const o=e.filter(r=>r!==s.name).map(r=>r.toLowerCase());return Bs(o)},form:{advanced:()=>({sections:[]}),base(){return Is.base}}}};var Sa=t(20573),zs=t(88372);const Vs=()=>e=>e[`${B.Z}_formModal`]||zs.E,Gs=()=>(0,Sa.createSelector)(Vs(),e=>e),ks=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:s,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:r,actionType:i,attributeName:d,attributeType:l,customFieldUid:u,categoryName:m,dynamicZoneTarget:f,forTarget:y,modalType:p,isOpen:Z,kind:b,step:v,targetUid:O}=(0,ee.Z)(),W=(0,g.useCustomFields)().get(u),R=(0,n.useRef)(),C=(0,n.useMemo)(Gs,[]),D=(0,ue.useDispatch)(),X=(0,g.useNotification)(),te=(0,ue.useSelector)(z=>C(z),ue.shallowEqual),{push:pe}=(0,x.k6)(),{trackUsage:ve}=(0,g.useTracking)(),{formatMessage:$}=(0,h.Z)(),{getPlugin:Be}=(0,g.useStrapiApp)(),ne=Be(B.Z).apis.forms,_e=ne.components.inputs,{addAttribute:ae,addCustomFieldAttribute:st,addCreatedComponentToDynamicZone:ye,allComponentsCategories:Q,changeDynamicZoneComponents:P,contentTypes:ot,components:Lt,createSchema:it,deleteCategory:oa,deleteData:Yt,editCategory:ia,editCustomFieldAttribute:ra,submitData:la,modifiedData:Te,nestedComponents:da,setModifiedData:ca,sortedContentTypesList:ua,updateSchema:ma,reservedNames:$e}=(0,We.Z)(),{componentToCreate:It,formErrors:je,initialData:Ce,isCreatingComponentWhileAddingAField:He,modifiedData:S}=te,L=y==="contentType"||y==="component"?[y]:[y,O];(0,n.useEffect)(()=>{if(Z){const z=ua.filter(Ut);p==="editCategory"&&ca(),i==="edit"&&p==="attribute"&&y==="contentType"&&ve("willEditFieldOfContentType");const Ze=[...L,"schema","attributes"],xe=Vn(E()(Te,Ze,[]),f)||null;if(p==="editCategory"&&i==="edit"&&D({type:de._H,modalType:p,actionType:i,data:{name:m}}),p==="contentType"&&i==="create"&&D({type:de._H,modalType:p,actionType:i,data:{draftAndPublish:!0,reviewWorkflows:!1},pluginOptions:{}}),p==="contentType"&&i==="edit"){const{displayName:H,draftAndPublish:ge,kind:Le,pluginOptions:be,pluralName:Jo,reviewWorkflows:wo,singularName:ei}=E()(Te,[...L,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});D({type:de._H,actionType:i,modalType:p,data:{displayName:H,draftAndPublish:ge,kind:Le,pluginOptions:be,pluralName:Jo,reviewWorkflows:wo??!1,singularName:ei}})}if(p==="component"&&i==="edit"){const H=E()(Te,L,{});D({type:de._H,actionType:i,modalType:p,data:{displayName:H.schema.displayName,category:H.category,icon:H.schema.icon}})}if(p==="addComponentToDynamicZone"&&i==="edit"){const H={...xe,components:[],name:f,createComponent:!1,componentToCreate:{type:"component"}};D({type:de.VZ,attributeToEdit:H})}if(l){const ge={...Vn(E()(Te,Ze,[]),d),name:d};l==="component"&&i==="edit"&&(ge.repeatable||q()(ge,"repeatable",!1)),D(p==="customField"?{type:de.OY,customField:W,isEditing:i==="edit",modifiedDataToSetForEditing:ge,forTarget:y}:{type:de.S0,attributeType:l,nameToSetForRelation:E()(z,["0","title"],"error"),targetUid:E()(z,["0","uid"],"error"),isEditing:i==="edit",modifiedDataToSetForEditing:ge,step:v,forTarget:y})}}else D({type:de.c2})},[i,d,l,m,f,y,Z,p]);const I=p==="contentType",j=p==="component",le=p==="attribute",Re=p==="customField",Oe=l==="component"&&le,De=i==="create",Ne=E()(S,"createComponent",!1)||He,rt=v==="1",qa=p==="editCategory",Qa=p==="chooseAttribute",pa=(0,nt.E)(S.displayName||""),ga=E()(Te,[...L,"schema","attributes"],null),_o=async()=>{let z;const Ze=Ne&&v==="1"?E()(S,"componentToCreate",{}):S;if(I)z=ke.contentType.schema(Object.keys(ot),i==="edit",E()(Te,[...L,"uid"],null),$e,ne,ot);else if(j)z=ke.component.schema(Object.keys(Lt),S.category||"",$e,i==="edit",E()(Te,[...L,"uid"],null),ne);else if(Re)z=ke.customField.schema({schemaAttributes:E()(Te,[...L,"schema","attributes"],[]),attributeType:W.type,reservedNames:$e,schemaData:{modifiedData:S,initialData:Ce},ctbFormsAPI:ne,customFieldValidator:W.options?.validator});else if(Oe&&Ne&&rt)z=ke.component.schema(Object.keys(Lt),E()(S,"componentToCreate.category",""),$e,ne);else if(le&&!rt){const xe=l==="relation"?"relation":S.type;let H=[];if(xe==="relation"){const ge=E()(S,["target"],null);H=E()(ot,[ge,"schema","attributes"],[]).filter(({name:be})=>i!=="edit"?!0:be!==Ce.targetAttribute)}z=ke.attribute.schema(E()(Te,L,{}),xe,$e,H,{modifiedData:S,initialData:Ce},ne)}else if(qa)z=ke.editCategory.schema(Q,Ce,ne);else if(rt&&Ne)z=ke.component.schema(Object.keys(Lt),E()(S,"componentToCreate.category",""),$e,ne);else return;await z.validate(Ze,{abortEarly:!1})},Ja=(0,n.useCallback)(({target:{name:z,value:Ze,type:xe,...H}})=>{const ge=["enumName","max","min","maxLength","minLength","regex","default"];let Le;ge.includes(z)&&Ze===""?Le=null:Le=Ze;const be=Object.assign({},je);z==="max"&&delete be.min,z==="maxLength"&&delete be.minLength,delete be[z],D({type:de.Ey,errors:be}),D({type:de.P0,keys:z.split("."),value:Le,...H})},[D,je]),Ae=async(z,Ze=De)=>{z.preventDefault();try{await _o(),$o(Ze);const xe=y==="components"?O:pa;if(I)if(De)it({...S,kind:b},p,pa),pe({pathname:`/plugins/${B.Z}/content-types/${pa}`}),s({forTarget:y,targetUid:xe});else{xs(Te,S)?(e(),la(S)):X({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(p==="component")if(De){const H=(0,nt.N)(S.displayName,S.category),{category:ge,...Le}=S;it(Le,"component",H,ge),pe({pathname:`/plugins/${B.Z}/component-categories/${ge}/${H}`}),s({forTarget:y,targetUid:H})}else{ma(S,p,O),e();return}else if(qa){if(Xe()(Ce.name)===Xe()(S.name)){e();return}ia(Ce.name,S);return}else if(Re){const H={attributeToSet:{...S,customField:u},forTarget:y,targetUid:O,initialAttribute:Ce};i==="edit"?ra(H):st(H),Ze?s({forTarget:y,targetUid:xe}):e();return}else if(le&&!Ne){if(l==="dynamiczone"){ae(S,y,O,i==="edit",Ce),De?(D({type:de.I}),R.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:S.name})):e();return}if(!Oe){ae(S,y,O,i==="edit",Ce),Ze?s({forTarget:y,targetUid:xe}):e();return}if(rt){r(),D({type:de.yC,forTarget:y});return}ae(S,y,O,i==="edit",Ce,!0),Ze?s({forTarget:y,targetUid:O}):e()}else if(le&&Ne){if(rt){ve("willCreateComponentFromAttributesModal"),D({type:de.oF,forTarget:y}),r();return}const{category:H,type:ge,...Le}=It,be=(0,nt.N)(It.displayName,H);it(Le,ge,be,H,Ne),ae(S,y,O,!1),D({type:de.c2}),Ze?s({forTarget:"components",targetUid:be}):e();return}else{if(rt)if(Ne){const{category:H,type:ge,...Le}=S.componentToCreate,be=(0,nt.N)(S.componentToCreate.displayName,H);it(Le,ge,be,H,Ne),ye(f,[be]),s({forTarget:"components",targetUid:be})}else P(f,S.components),e();else console.error("This case is not handled");return}D({type:de.c2})}catch(xe){const H=(0,g.getYupInnerErrors)(xe);console.log({err:xe,errors:H}),D({type:de.Ey,errors:H})}},No=()=>{window.confirm($({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),D({type:de.c2}))},wa=()=>{ct()(S,Ce)?(e(),D({type:de.c2})):No()},Ko=z=>{if(z==="advanced"){if(I){ve("didSelectContentTypeSettings");return}y==="contentType"&&ve("didSelectContentTypeFieldSettings")}},$o=z=>{p==="attribute"&&y==="contentType"&&l!=="dynamiczone"&&z&&ve("willAddMoreFieldToContentType")},jo=()=>!!(p==="editCategory"||p==="component"||ze()(S,"createComponent")),zo=Ls(y,O,da);if(!Z||!p)return null;const es=E()(ke,[p,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Vo=y==="components"||y==="component",ts={customInputs:{"allowed-types-select":en,"boolean-radio-group":Cn,"checkbox-with-number-field":On,"icon-picker":Sn,"content-type-radio-group":Zn,"radio-group":Ot,relation:hs,"select-category":bs,"select-component":Cs,"select-components":Rs,"select-default-boolean":Tn,"select-number":Zs,"select-date":Os,"toggle-draft-publish":fn,"toggle-review-workflows":yn,"text-plural":Ms,"text-singular":Ps,"textarea-enum":As,..._e},componentToCreate:It,dynamicZoneTarget:f,formErrors:je,isAddingAComponentToAnotherComponent:Vo,isCreatingComponentWhileAddingAField:He,mainBoxHeader:E()(Te,[...L,"schema","displayName"],""),modifiedData:S,naturePickerType:y,isCreating:De,targetUid:O,forTarget:y},ns=es.advanced({data:S,type:l,step:v,actionType:i,attributes:ga,extensions:ne,forTarget:y,contentTypeSchema:Te.contentType||{},customField:W}).sections,as=es.base({data:S,type:l,step:v,actionType:i,attributes:ga,extensions:ne,forTarget:y,contentTypeSchema:Te.contentType||{},customField:W}).sections,Go=Da(as),ko=Da(ns),Ho=Object.keys(je).some(z=>Go.includes(z)),Xo=Object.keys(je).some(z=>ko.includes(z)),Yo=E()(ot,[O,"schema","kind"]),qo=()=>i==="edit"&&ga.every(({name:z})=>z!==S?.name),Qo=()=>{qo()&&ve("didEditFieldNameOnContentType")};return n.createElement(lt.P,{onClose:wa,labelledBy:"title"},n.createElement(En,{actionType:i,attributeName:d,categoryName:m,contentTypeKind:b,dynamicZoneTarget:f,modalType:p,forTarget:y,targetUid:O,attributeType:l,customFieldUid:u}),Qa&&n.createElement(gn,{attributes:zo,forTarget:y,kind:Yo||"collectionType"}),!Qa&&n.createElement("form",{onSubmit:Ae},n.createElement(Qe.f,null,n.createElement(Ye.v,{label:"todo",id:"tabs",variant:"simple",ref:R,onTabChange:z=>{z===1&&Ko("advanced")}},n.createElement(_.k,{justifyContent:"space-between"},n.createElement(vn,{actionType:i,forTarget:y,kind:b,step:v,modalType:p,attributeType:l,attributeName:d,customField:W}),n.createElement(Ve.m,null,n.createElement(Ve.O,{hasError:Ho},$({id:(0,c.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),n.createElement(Ve.O,{hasError:Xo,disabled:jo()},$({id:(0,c.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),n.createElement(dt.i,null),n.createElement(G.x,{paddingTop:6},n.createElement(Ge.n,null,n.createElement(Ge.x,null,n.createElement(_.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(Pa,{form:as,formErrors:je,genericInputProps:ts,modifiedData:S,onChange:Ja}))),n.createElement(Ge.x,null,n.createElement(_.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(Pa,{form:ns,formErrors:je,genericInputProps:ts,modifiedData:S,onChange:Ja}))))))),n.createElement(qt.m,{endActions:n.createElement(hn,{deleteCategory:oa,deleteContentType:Yt,deleteComponent:Yt,categoryName:Ce.name,isAttributeModal:p==="attribute",isCustomFieldModal:p==="customField",isComponentToDzModal:p==="addComponentToDynamicZone",isComponentAttribute:l==="component",isComponentModal:p==="component",isContentTypeModal:p==="contentType",isCreatingComponent:i==="create",isCreatingDz:i==="create",isCreatingComponentAttribute:S.createComponent||!1,isCreatingComponentInDz:S.createComponent||!1,isCreatingComponentWhileAddingAField:He,isCreatingContentType:i==="create",isEditingAttribute:i==="edit",isDzAttribute:l==="dynamiczone",isEditingCategory:p==="editCategory",isInFirstComponentStep:v==="1",onSubmitAddComponentAttribute:Ae,onSubmitAddComponentToDz:Ae,onSubmitCreateComponent:Ae,onSubmitCreateContentType:Ae,onSubmitCreateDz:Ae,onSubmitEditAttribute:Ae,onSubmitEditCategory:Ae,onSubmitEditComponent:Ae,onSubmitEditContentType:Ae,onSubmitEditCustomFieldAttribute:Ae,onSubmitEditDz:Ae,onClickFinish:Qo}),startActions:n.createElement(oe.z,{variant:"tertiary",onClick:wa},$({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},Fa=e=>e.reduce((s,o)=>(s[o.uid]=o,s),{}),Hs=(e,s,o,r)=>{const i=s.reduce((u,m)=>{const f=E()(o,m,{});return u[m]=f,u},{});return{[r?"contentType":"component"]:e,components:i}},Xs=(e,s)=>{const o=Object.keys(e).map(r=>E()(e,[r,...s],""));return(0,Me.Z)(o)};var Ys=t(19525);const qs=e=>{const s=Object.keys(e).reduce((o,r)=>{const i=e?.[r]?.schema?.attributes??[],d=Qs(i);return[...o,...d]},[]);return(0,Me.Z)(s)},Qs=e=>e.reduce((s,o)=>{const{type:r,component:i}=o;return r==="component"&&s.push(i),s},[]),_a=qs,Js=e=>{const s=Object.keys(e).reduce((o,r)=>{const i=E()(e,[r],{}),d=i.uid;return ws(i)&&o.push(d),o},[]);return(0,Me.Z)(s)},ws=e=>E()(e,["schema","attributes"],[]).some(o=>{const{type:r}=o;return r==="component"});var eo=t(57557),Na=t.n(eo),to=t(89734),no=t.n(to),ao=t(68929),so=t.n(ao);const oo=(e,s)=>{const o=Object.keys(e).filter(r=>{const i=E()(e,r,{}),d=E()(s,r,{}),l=E()(i,["isTemporary"],!1),u=!ct()(i,d);return l||u});return(0,Me.Z)(o)},io=(e,s)=>{const o=$a(E()(e,"schema.attributes",[]),s),r=E()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},r,{category:e.category},Na()(e.schema,"attributes"),{attributes:o})},Ka=(e,s=!1)=>{const o=E()(e,"uid",null),r=$a(E()(e,"schema.attributes",[]),o),i=s?{category:E()(e,"category","")}:{},d=Object.assign(i,Na()(e.schema,"attributes"),{attributes:r});return delete d.uid,delete d.isTemporary,delete d.visible,delete d.restrictRelationsTo,d},$a=(e,s)=>e.reduce((o,{name:r,...i})=>{const d=i,l=d.target===s,u=d.type==="relation",m=E()(d,"targetAttribute",null);if(!l)if(u){const f=Object.assign({},d,{targetAttribute:ja(m)});o[r]=Xt(f)}else o[r]=Xt(d);if(l){const f=d.target,y=Object.assign({},d,{target:f,targetAttribute:ja(m)});o[r]=Xt(y)}if(d.customField){const f={...d,type:"customField"};o[r]=Xt(f)}return o},{}),ja=e=>e==="-"?null:e,Xt=e=>Object.keys(e).reduce((s,o)=>(e[o]!==null&&o!=="plugin"&&(s[o]=e[o]),s),{}),ro=(e,s,o,r=!1)=>oo(e,s).map(l=>{const u=E()(e,l,{});return io(u,o,r)}),lo=e=>no()(Object.keys(e).map(s=>({visible:e[s].schema.visible,name:s,title:e[s].schema.displayName,plugin:e[s].plugin||null,uid:s,to:`/plugins/${B.Z}/content-types/${s}`,kind:e[s].schema.kind,restrictRelationsTo:e[s].schema.restrictRelationsTo})).filter(s=>s!==null),s=>so()(s.title)),za="did-not-kill-server",co="server is down";function xt(e,s){return new Promise(o=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(r=>{if(r.status>=400)throw new Error(co);if(!s)throw new Error(za);o(e)}).catch(r=>{setTimeout(()=>xt(e,r.message!==za).then(o),100)})})}const uo=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0);var fe=t(92407),mo=t(87431);const po=()=>e=>e[`${B.Z}_dataManagerProvider`]||mo.E,go=()=>(0,Sa.createSelector)(po(),e=>e),fo=e=>Object.keys(e).reduce((s,o)=>{const r=e[o].schema;return s[o]={...e[o],schema:{...r,attributes:yo(r.attributes)}},s},{}),yo=e=>Object.keys(e).reduce((s,o)=>(s.push({...e[o],name:o}),s),[]),Va=fo,sa=({children:e,components:s,contentTypes:o,isLoading:r,isLoadingForDataToBeSet:i,initialData:d,modifiedData:l,reservedNames:u})=>{const m=(0,ue.useDispatch)(),f=(0,g.useNotification)(),{lockAppWithAutoreload:y,unlockAppWithAutoreload:p}=(0,g.useAutoReloadOverlayBlocker)(),{setCurrentStep:Z}=(0,g.useGuidedTour)(),{getPlugin:b}=(0,g.useStrapiApp)(),{apis:v}=b(B.Z),{autoReload:O}=(0,g.useAppInfo)(),{formatMessage:W}=(0,h.Z)(),{trackUsage:R}=(0,g.useTracking)(),{refetchPermissions:C}=(0,g.useRBACProvider)(),{pathname:D}=(0,x.TH)(),{onCloseModal:X}=(0,ee.Z)(),te=(0,x.$B)(`/plugins/${B.Z}/content-types/:uid`),pe=(0,x.$B)(`/plugins/${B.Z}/component-categories/:categoryUid/:componentUid`),ve=(0,g.useFetchClient)(),{put:$,post:Be,del:ie}=ve,ne=(0,n.useRef)();ne.current=W;const _e=O,ae=te!==null,st=ae?"contentType":"component",ye=ae?E()(te,"params.uid",null):E()(pe,"params.componentUid",null),Q=(0,n.useRef)(),P=ae?"content-types":"components";Q.current=async()=>{try{const[{data:{data:L}},{data:{data:I}},{data:j}]=await Promise.all(["components","content-types","reserved-names"].map(Ne=>ve.get(`/${B.Z}/${Ne}`))),le=Fa(L),Re=Va(le),Oe=Fa(I),De=Va(Oe);m({type:fe.Id,components:Re,contentTypes:De,reservedNames:j})}catch(L){console.error({err:L}),f({type:"warning",message:{id:"notification.error"}})}},(0,n.useEffect)(()=>(Q.current(),()=>{m({type:fe.Zl})}),[]),(0,n.useEffect)(()=>{!r&&ye&&$e()},[r,D,ye]),(0,n.useEffect)(()=>{O||f({type:"info",message:{id:(0,c.Z)("notification.info.autoreaload-disable")}})},[O,f]);const ot=(L,I,j,le=!1,Re,Oe=!1)=>{const De=le?fe.JO:fe.gz;m({type:De,attributeToSet:L,forTarget:I,targetUid:j,initialAttribute:Re,shouldAddComponentToData:Oe})},Lt=({attributeToSet:L,forTarget:I,targetUid:j,initialAttribute:le})=>{m({type:fe.Ir,attributeToSet:L,forTarget:I,targetUid:j,initialAttribute:le})},it=({attributeToSet:L,forTarget:I,targetUid:j,initialAttribute:le})=>{m({type:fe.Ly,attributeToSet:L,forTarget:I,targetUid:j,initialAttribute:le})},oa=(L,I)=>{m({type:fe.Uu,dynamicZoneTarget:L,componentsToAdd:I})},Yt=(L,I,j,le,Re=!1)=>{const Oe=I==="contentType"?fe.Sh:fe.VR;m({type:Oe,data:L,componentCategory:le,schemaType:I,uid:j,shouldAddComponentToData:Re})},ia=(L,I)=>{m({type:fe.o_,dynamicZoneTarget:L,newComponents:I})},ra=(L,I,j="")=>{const le=L==="components"?fe.lw:fe.ai;L==="contentType"&&R("willDeleteFieldOfContentType"),m({type:le,mainDataKey:L,attributeToRemoveName:I,componentUid:j})},la=async L=>{try{const I=`/${B.Z}/component-categories/${L}`,j=window.confirm(W({id:(0,c.Z)("popUpWarning.bodyMessage.category.delete")}));X(),j&&(y(),await ie(I),await xt(!0),await p(),await He())}catch(I){console.error({err:I}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}},Te=async()=>{try{const L=`/${B.Z}/${P}/${ye}`,I=E()(l,[st,"isTemporary"],!1),j=window.confirm(W({id:(0,c.Z)(`popUpWarning.bodyMessage.${ae?"contentType":"component"}.delete`)}));if(X(),j){if(I){m({type:fe.Ap});return}y(),await ie(L),await xt(!0),await p(),await He()}}catch(L){console.error({err:L}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}},da=async(L,I)=>{try{const j=`/${B.Z}/component-categories/${L}`;X(),y(),await $(j,I),await xt(!0),await p(),await He()}catch(j){console.error({err:j}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}},ca=()=>{const L=Object.assign({},s,l.components);if(!ae){const j=E()(l,"component",{});q()(L,E()(j,["uid"],""),j)}const I=Js(L);return(0,Me.Z)(I)},ua=()=>{const L=_a(s),I=_a(l.components||{});return(0,Me.Z)([...I,...L])},ma=(L,I)=>{m({type:fe.NG,dzName:L,componentToRemoveIndex:I})},$e=()=>{const L=ae?o:s,I=E()(L,ye,{schema:{attributes:[]}}),j=(0,Ys.Z)(I.schema.attributes,s),le=Hs(I,j,s,ae),Re=E()(I,"isTemporary",!1)&&se()(E()(I,"schema.attributes",[]))===0;m({type:fe.xx,schemaToSet:le,hasJustCreatedSchema:Re})},It=(0,n.useMemo)(()=>{const L=ae?o:s;return ye==="create-content-type"?!1:!Object.keys(L).includes(ye)&&!r},[s,o,ye,ae,r]),je=(0,n.useMemo)(()=>{const L=Object.keys(o).filter(I=>E()(o,[I,"schema","visible"],!0)).sort();return E()(L,"0","create-content-type")},[o]);if(It)return n.createElement(x.l_,{to:`/plugins/${B.Z}/content-types/${je}`});const Ce=async L=>{try{const I=E()(l,[st,"isTemporary"],!1),j={components:ro(l.components,s,ye,I)};if(ae){const Oe=v.forms.mutateContentTypeSchema({...Ka(l.contentType),...L},d.contentType);if(!uo(Oe)){f({type:"warning",message:{id:(0,c.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}j.contentType=Oe,R("willSaveContentType")}else j.component=Ka(l.component,!0),R("willSaveComponent");y();const le=`/${B.Z}/${P}`,Re=I?le:`${le}/${ye}`;if(I?await Be(Re,j):await $(Re,j),await xt(!0),await p(),I&&(d.contentType?.schema.kind==="collectionType"||d.contentType?.schema.kind==="singleType")&&Z("contentTypeBuilder.success"),ae){R("didSaveContentType");const Oe=E()(j,["contentType","schema","name"],""),De=E()(d,["contentType","schema","name"],"");!I&&Oe!==De&&R("didEditNameOfContentType")}else R("didSaveComponent");await He()}catch(I){ae||R("didNotSaveComponent"),console.error({err:I.response}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}},He=async()=>{await C()},S=(L,I,j)=>{m({type:fe.bi,data:L,schemaType:I,uid:j})};return n.createElement(me.Z.Provider,{value:{addAttribute:ot,addCustomFieldAttribute:Lt,addCreatedComponentToDynamicZone:oa,allComponentsCategories:Xs(s,["category"]),changeDynamicZoneComponents:ia,components:s,componentsGroupedByCategory:J()(s,"category"),componentsThatHaveOtherComponentInTheirAttributes:ca(),contentTypes:o,createSchema:Yt,deleteCategory:la,deleteData:Te,editCategory:da,editCustomFieldAttribute:it,isInDevelopmentMode:_e,initialData:d,isInContentTypeView:ae,modifiedData:l,nestedComponents:ua(),removeAttribute:ra,removeComponentFromDynamicZone:ma,reservedNames:u,setModifiedData:$e,sortedContentTypesList:lo(o),submitData:Ce,updateSchema:S}},i?n.createElement(g.LoadingIndicatorPage,null):n.createElement(n.Fragment,null,e,_e&&n.createElement(ks,null)))};sa.defaultProps={components:{}},sa.propTypes={children:a().node.isRequired,components:a().object,contentTypes:a().object.isRequired,isLoading:a().bool.isRequired,isLoadingForDataToBeSet:a().bool.isRequired,initialData:a().object.isRequired,modifiedData:a().object.isRequired,reservedNames:a().object.isRequired};const Eo=go(),ho=(0,ue.connect)(Eo,null),Mo=(0,he.compose)(ho)((0,n.memo)(sa));var vo=t(98422);const Ga={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},ka=({children:e})=>{const[s,o]=(0,n.useState)(Ga),{trackUsage:r}=(0,g.useTracking)(),i=({attributeType:R,customFieldUid:C})=>{o(D=>({...D,actionType:"create",modalType:"customField",attributeType:R,customFieldUid:C}))},d=({attributeType:R,step:C})=>{s.forTarget==="contentType"&&r("didSelectContentTypeFieldType",{type:R}),o(D=>({...D,actionType:"create",modalType:"attribute",step:C,attributeType:R}))},l=({dynamicZoneTarget:R,targetUid:C})=>{o(D=>({...D,dynamicZoneTarget:R,targetUid:C,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},u=({forTarget:R,targetUid:C})=>{o(D=>({...D,actionType:"create",forTarget:R,targetUid:C,modalType:"chooseAttribute",isOpen:!0}))},m=R=>{o(C=>({...C,...R,isOpen:!0}))},f=R=>{o(C=>({...C,categoryName:R,actionType:"edit",modalType:"editCategory",isOpen:!0}))},y=({forTarget:R,targetUid:C,attributeName:D,attributeType:X,customFieldUid:te})=>{o(pe=>({...pe,modalType:"customField",customFieldUid:te,actionType:"edit",forTarget:R,targetUid:C,attributeName:D,attributeType:X,isOpen:!0}))},p=({forTarget:R,targetUid:C,attributeName:D,attributeType:X,step:te})=>{o(pe=>({...pe,modalType:"attribute",actionType:"edit",forTarget:R,targetUid:C,attributeName:D,attributeType:X,step:te,isOpen:!0}))},Z=({modalType:R,forTarget:C,targetUid:D,kind:X})=>{o(te=>({...te,modalType:R,actionType:"edit",forTarget:C,targetUid:D,kind:X,isOpen:!0}))},b=()=>{o(Ga)},v=({forTarget:R,targetUid:C})=>{o(D=>({...D,forTarget:R,targetUid:C,modalType:"chooseAttribute"}))},O=()=>{o(R=>({...R,attributeType:"component",modalType:"attribute",step:"2"}))},W=({dynamicZoneTarget:R})=>{o(C=>({...C,dynamicZoneTarget:R,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return n.createElement(vo.Z.Provider,{value:{...s,onClickSelectField:d,onClickSelectCustomField:i,onCloseModal:b,onNavigateToChooseAttributeModal:v,onNavigateToAddCompoToDZModal:W,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:O,onOpenModalAddField:u,onOpenModalCreateSchema:m,onOpenModalEditCategory:f,onOpenModalEditField:p,onOpenModalEditCustomField:y,onOpenModalEditSchema:Z,setFormModalNavigationState:o}},e)};ka.propTypes={children:a().node.isRequired};const To=ka,bo=(0,n.lazy)(()=>t.e(5905).then(t.bind(t,57134))),Co=()=>{const{url:e}=(0,x.$B)(),{categoryUid:s}=(0,x.UO)();return n.createElement(n.Suspense,{fallback:n.createElement(g.LoadingIndicatorPage,null)},n.createElement(x.rs,null,n.createElement(x.AW,{path:`${e}/:componentUid`},n.createElement(bo,{categoryId:s}))))};var Ha=t(73727),Ro=t(39785),Oo=t(53192),Zo=t(42876),Po=t(34446),Do=t(29489),Fe=t(85893),Ao=t(12645),xo=t(2504);const Lo=(0,Pe.default)(G.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,Io=Pe.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,Bo=Pe.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,Uo=({label:e,children:s,id:o})=>{const[r,i]=(0,n.useState)(!0),d=(0,xo.M)(o);return(0,Fe.jsxs)(G.x,{children:[(0,Fe.jsx)(Lo,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,Fe.jsx)(_.k,{justifyContent:"space-between",children:(0,Fe.jsxs)(Io,{onClick:()=>{i(l=>!l)},"aria-expanded":r,"aria-controls":d,children:[(0,Fe.jsx)(Bo,{rotated:r,children:(0,Fe.jsx)(Ao.Z,{"aria-hidden":!0})}),(0,Fe.jsx)(G.x,{paddingLeft:2,children:(0,Fe.jsx)(w.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),r&&(0,Fe.jsx)("ul",{id:d,children:n.Children.map(s,(l,u)=>(0,Fe.jsx)("li",{children:l},u))})]})};var Xa=t(52305);const Wo=()=>{const{components:e,componentsGroupedByCategory:s,contentTypes:o,isInDevelopmentMode:r,sortedContentTypesList:i,modifiedData:d,initialData:l}=(0,We.Z)(),u=(0,g.useNotification)(),{trackUsage:m}=(0,g.useTracking)(),[f,y]=(0,n.useState)(""),{onOpenModalCreateSchema:p,onOpenModalEditCategory:Z}=(0,ee.Z)(),{locale:b}=(0,h.Z)(),{startsWith:v}=(0,g.useFilter)(b,{sensitivity:"base"}),O=(0,g.useCollator)(b,{sensitivity:"base"}),W=!Object.keys(o).some($=>o[$].isTemporary===!0)&&!Object.keys(e).some($=>e[$].isTemporary===!0)&&ct()(d,l),R=()=>{W?(m("willCreateContentType"),p({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):X()},C=()=>{W?(m("willCreateSingleType"),p({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):X()},D=()=>{W?(m("willCreateComponent"),p({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):X()},X=()=>{u({type:"info",message:{id:(0,c.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},te=Object.entries(s).map(([$,Be])=>({name:$,title:$,isEditable:r,onClickEdit(ie,ne){ie.stopPropagation(),W?Z(ne.name):X()},links:Be.map(ie=>({name:ie.uid,to:`/plugins/${B.Z}/component-categories/${$}/${ie.uid}`,title:ie.schema.displayName})).sort((ie,ne)=>O.compare(ie.title,ne.title))})).sort(($,Be)=>O.compare($.title,Be.title)),pe=i.filter($=>$.visible);return{menu:[{name:"models",title:{id:`${(0,c.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:r&&{id:`${(0,c.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:R},links:pe.filter($=>$.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,c.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:r&&{id:`${(0,c.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:C},links:pe.filter($=>$.kind==="singleType")},{name:"components",title:{id:`${(0,c.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:r&&{id:`${(0,c.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:D},links:te}].map($=>$.links.some(ie=>Array.isArray(ie.links))?{...$,links:$.links.map(ie=>{const ne=ie.links.filter(_e=>v(_e.title,f));return ne.length===0?null:{...ie,links:ne.sort((_e,ae)=>O.compare(_e.title,ae.title))}}).filter(Boolean)}:{...$,links:$.links.filter(ie=>v(ie.title,f)).sort((ie,ne)=>O.compare(ie.title,ne.title))}),searchValue:f,onSearchChange:y}},So=()=>{const{menu:e,searchValue:s,onSearchChange:o}=Wo(),{formatMessage:r}=(0,h.Z)();return n.createElement(Oo.m,{ariaLabel:r({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},n.createElement(Zo.p,{searchable:!0,value:s,onClear:()=>o(""),onChange:i=>o(i.target.value),label:r({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:r({id:"global.search",defaultMessage:"Search"})}),n.createElement(Po.Z,null,e.map(i=>n.createElement(n.Fragment,{key:i.name},n.createElement(Do.D,{label:r({id:i.title.id,defaultMessage:i.title.defaultMessage}),collapsable:!0,badgeLabel:i.links.length.toString()},i.links.map(d=>d.links?n.createElement(Uo,{key:d.name,label:Ie()(d.title)},d.links.map(l=>n.createElement(Xa.E,{as:Ha.NavLink,to:l.to,active:l.active,key:l.name,isSubSectionChild:!0},Ie()(r({id:l.name,defaultMessage:l.title}))))):n.createElement(Xa.E,{as:Ha.NavLink,to:d.to,active:d.active,key:d.name},Ie()(r({id:d.name,defaultMessage:d.title}))))),i.customLink&&n.createElement(G.x,{paddingLeft:7},n.createElement(Ro.A,{onClick:i.customLink.onClick,startIcon:n.createElement(ft.J,{as:Ke.Z,width:(0,g.pxToRem)(8),height:(0,g.pxToRem)(8)}),marginTop:2},r({id:i.customLink.id,defaultMessage:i.customLink.defaultMessage})))))))},Ya=(0,n.lazy)(()=>t.e(5905).then(t.bind(t,57134))),Fo=()=>{const{formatMessage:e}=(0,h.Z)(),s=e({id:`${B.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,g.useGuidedTour)(),r=(0,n.useRef)(o);return(0,n.useEffect)(()=>{r.current&&r.current("contentTypeBuilder")},[]),n.createElement(g.CheckPagePermissions,{permissions:F.Z.main},n.createElement(U.q,{title:s}),n.createElement(To,null,n.createElement(Mo,null,n.createElement(N.A,{sideNav:n.createElement(So,null)},n.createElement(n.Suspense,{fallback:n.createElement(g.LoadingIndicatorPage,null)},n.createElement(x.rs,null,n.createElement(x.AW,{path:`/plugins/${B.Z}/content-types/create-content-type`,component:Ya}),n.createElement(x.AW,{path:`/plugins/${B.Z}/content-types/:uid`,component:Ya}),n.createElement(x.AW,{path:`/plugins/${B.Z}/component-categories/:categoryUid`,component:Co})))))))}},5002:(V,K,t)=>{"use strict";t.d(K,{Z:()=>U});var n=t(96124);const U=h=>`${n.Z}.${h}`},89881:(V,K,t)=>{var n=t(47816),x=t(99291),U=x(n);V.exports=U},23933:(V,K,t)=>{var n=t(44239),x=t(37005),U="[object RegExp]";function h(g){return x(g)&&n(g)==U}V.exports=h},69199:(V,K,t)=>{var n=t(89881),x=t(98612);function U(h,g){var N=-1,F=x(h)?Array(h.length):[];return n(h,function(B,Y,a){F[++N]=g(B,Y,a)}),F}V.exports=U},82689:(V,K,t)=>{var n=t(29932),x=t(97786),U=t(67206),h=t(69199),g=t(71131),N=t(7518),F=t(85022),B=t(6557),Y=t(1469);function a(k,E,Ee){E.length?E=n(E,function(q){return Y(q)?function(re){return x(re,q.length===1?q[0]:q)}:q}):E=[B];var J=-1;E=n(E,N(U));var ce=h(k,function(q,re,se){var ue=n(E,function(he){return he(q)});return{criteria:ue,index:++J,value:q}});return g(ce,function(q,re){return F(q,re,Ee)})}V.exports=a},71131:V=>{function K(t,n){var x=t.length;for(t.sort(n);x--;)t[x]=t[x].value;return t}V.exports=K},26393:(V,K,t)=>{var n=t(33448);function x(U,h){if(U!==h){var g=U!==void 0,N=U===null,F=U===U,B=n(U),Y=h!==void 0,a=h===null,k=h===h,E=n(h);if(!a&&!E&&!B&&U>h||B&&Y&&k&&!a&&!E||N&&Y&&k||!g&&k||!F)return 1;if(!N&&!B&&!E&&U<h||E&&g&&F&&!N&&!B||a&&g&&F||!Y&&F||!k)return-1}return 0}V.exports=x},85022:(V,K,t)=>{var n=t(26393);function x(U,h,g){for(var N=-1,F=U.criteria,B=h.criteria,Y=F.length,a=g.length;++N<Y;){var k=n(F[N],B[N]);if(k){if(N>=a)return k;var E=g[N];return k*(E=="desc"?-1:1)}}return U.index-h.index}V.exports=x},99291:(V,K,t)=>{var n=t(98612);function x(U,h){return function(g,N){if(g==null)return g;if(!n(g))return U(g,N);for(var F=g.length,B=h?F:-1,Y=Object(g);(h?B--:++B<F)&&N(Y[B],B,Y)!==!1;);return g}}V.exports=x},96347:(V,K,t)=>{var n=t(23933),x=t(7518),U=t(31167),h=U&&U.isRegExp,g=h?x(h):n;V.exports=g},89734:(V,K,t)=>{var n=t(21078),x=t(82689),U=t(5976),h=t(16612),g=U(function(N,F){if(N==null)return[];var B=F.length;return B>1&&h(N,F[0],F[1])?F=[]:B>2&&h(F[0],F[1],F[2])&&(F=[F[0]]),x(N,n(F,1),[])});V.exports=g},39138:(V,K,t)=>{var n=t(80531),x=t(40180),U=t(62689),h=t(13218),g=t(96347),N=t(88016),F=t(83140),B=t(40554),Y=t(79833),a=30,k="...",E=/\w*$/;function Ee(J,ce){var q=a,re=k;if(h(ce)){var se="separator"in ce?ce.separator:se;q="length"in ce?B(ce.length):q,re="omission"in ce?n(ce.omission):re}J=Y(J);var ue=J.length;if(U(J)){var he=F(J);ue=he.length}if(q>=ue)return J;var me=q-N(re);if(me<1)return re;var ee=he?x(he,0,me).join(""):J.slice(0,me);if(se===void 0)return ee+re;if(he&&(me+=ee.length-me),g(se)){if(J.slice(me).search(se)){var c,Me=ee;for(se.global||(se=RegExp(se.source,Y(E.exec(se))+"g")),se.lastIndex=0;c=se.exec(Me);)var Ue=c.index;ee=ee.slice(0,Ue===void 0?me:Ue)}}else if(J.indexOf(n(se),me)!=me){var ze=ee.lastIndexOf(se);ze>-1&&(ee=ee.slice(0,ze))}return ee+re}V.exports=Ee},2407:(V,K,t)=>{"use strict";t.d(K,{$:()=>Y,O:()=>a});var n=t(85893),x=t(16405),U=t(54863),h=t(63237),g=t(11047),N=t(41580),F=t(75515);const B=(0,U.default)(g.k)`
  svg {
    height: ${10/16}rem;
    width: ${10/16}rem;
    path {
      fill: ${({theme:k})=>k.colors.neutral500};
    }
  }
  :last-of-type ${N.x} {
    display: none;
  }
  :last-of-type ${F.Z} {
    color: ${({theme:k})=>k.colors.neutral800};
    font-weight: ${({theme:k})=>k.fontWeights.bold};
  }
`,Y=({children:k})=>(0,n.jsxs)(B,{inline:!0,as:"li",children:[(0,n.jsx)(F.Z,{variant:"pi",textColor:"neutral600",children:k}),(0,n.jsx)(N.x,{"aria-hidden":!0,paddingLeft:3,paddingRight:3,children:(0,n.jsx)(x.Z,{})})]});Y.displayName="Crumb";const a=({children:k,label:E,...Ee})=>(0,n.jsxs)(g.k,{...Ee,children:[(0,n.jsx)(h.T,{children:E}),(0,n.jsx)("ol",{"aria-hidden":!0,children:k})]});a.displayName="Breadcrumbs"},90608:(V,K,t)=>{"use strict";t.d(K,{O:()=>x});var n=t(29178);const x=n.Wx},32064:(V,K,t)=>{"use strict";t.d(K,{Q:()=>a});var n=t(85893),x=t(53547),U=t(73727),h=t(54863),g=t(92577),N=t(21817),F=t(11047),B=t(75515);const Y=(0,h.default)(N.G)`
  &[aria-disabled='true'] {
    ${g.sg}
    &:active {
      ${g.sg}
    }
  }
  &:hover {
    ${g.yP}
  }
  &:active {
    ${g.tB}
  }
  ${g.PD}
`,a=x.forwardRef(({variant:k="default",startIcon:E,endIcon:Ee,disabled:J=!1,children:ce,size:q="S",href:re,to:se,...ue},he)=>{const me=re?"_blank":void 0,ee=re?"noreferrer noopener":void 0,c=q==="S"?2:"10px",Me=4;return(0,n.jsxs)(Y,{ref:he,"aria-disabled":J,size:q,variant:k,target:me,rel:ee,to:J?void 0:se,href:J?"#":re,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:c,paddingLeft:Me,paddingRight:Me,paddingTop:c,pointerEvents:J?"none":void 0,...ue,as:se&&!J?U.NavLink:"a",children:[E&&(0,n.jsx)(F.k,{"aria-hidden":!0,children:E}),(0,n.jsx)(B.Z,{variant:q==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:ce}),Ee&&(0,n.jsx)(F.k,{"aria-hidden":!0,children:Ee})]})})}}]);
